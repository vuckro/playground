{"version":3,"file":"app.build.dqBcSm6f.js","sources":["../src/components/app/admin-notices/index.vue","../src/assets/js/functions/autoDarkMode.js","../src/components/app/wrapper/src/mountHelpers.js","../src/components/app/wrapper/index.vue","../src/uixpress.js"],"sourcesContent":["<script setup>\nimport { ref, onMounted, computed } from 'vue';\nimport { useAppStore } from '@/store/app/app.js';\nimport { lmnFetch } from '@/assets/js/functions/lmnFetch.js';\nimport AppIcon from '@/components/utility/icons/index.vue';\nimport AppButton from '@/components/utility/app-button/index.vue';\n\n/**\n * Admin Notices List\n * Displays admin notices for the current user, styled by type.\n *\n * @component\n * @example\n * <AdminNotices />\n */\nconst appStore = useAppStore();\nconst notices = ref([]);\nconst loading = ref(false);\nconst dismissing = ref({});\n\n\n\n/**\n * Fetch all published admin notices from the REST API.\n * @returns {Promise<void>}\n */\nconst fetchNotices = async () => {\n    loading.value = true;\n    const args = {\n        endpoint: 'wp/v2/uixpress-notices',\n        params: { status: 'publish', per_page: 100 },\n    };\n    const response = await lmnFetch(args);\n    loading.value = false;\n    if (response && response.data) {\n        notices.value = response.data;\n    }\n};\n\n/**\n * Checks if a notice applies to the current user by user ID or user role.\n * @param {Object} notice - The notice object\n * @returns {boolean}\n */\nconst appliesToCurrentUser = (notice) => {\n    const userId = appStore.state.userID;\n    const userRoles = appStore.state.userRoles || [];\n    const roles = notice.meta?.roles || [];\n    const seenBy = notice.meta?.seen_by || [];\n    if (seenBy.includes(Number(userId)) || seenBy.includes(userId)) return false;\n    if (!roles.length) return true;\n    if (roles.some(r => r.type === 'user' && r.id == userId)) return true;\n    if (roles.some(r => r.type === 'role' && userRoles.includes(r.value))) return true;\n    return false;\n};\n\nconst typeStyles = {\n    info: {\n        icon: 'lightbulb',\n        container: 'bg-blue-50 dark:bg-blue-900/30 border-b border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200',\n        iconClass: 'text-blue-400',\n    },\n    success: {\n        icon: 'check',\n        container: 'bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700 text-green-800 dark:text-green-200',\n        iconClass: 'text-green-400',\n    },\n    warning: {\n        icon: 'warning',\n        container: 'bg-orange-50 dark:bg-orange-900/30 border-orange-200 dark:border-orange-700 text-orange-800 dark:text-orange-200',\n        iconClass: 'text-orange-400',\n    },\n    error: {\n        icon: 'error',\n        container: 'bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200',\n        iconClass: 'text-red-400',\n    },\n};\n\nconst filteredNotices = computed(() => notices.value.filter(appliesToCurrentUser));\n\n/**\n * Dismiss a notice for the current user by updating seen_by meta and sending a POST request.\n * @param {Object} notice\n */\nconst dismissNotice = async (notice) => {\n    const userId = appStore.state.userID;\n    if (!userId) return;\n    dismissing.value[notice.id] = true;\n    // Call custom endpoint to mark as seen\n    const response = await lmnFetch({\n        endpoint: 'uixpress/v1/notices/seen',\n        type: 'POST',\n        data: {\n            notice_id: notice.id,\n        },\n    });\n    // Update locally if successful\n    if (response && response.seen_by) {\n        notice.meta.seen_by = response.seen_by;\n    } else {\n        // fallback: add locally\n        let seenBy = Array.isArray(notice.meta?.seen_by) ? [...notice.meta.seen_by] : [];\n        if (!seenBy.includes(Number(userId)) && !seenBy.includes(userId)) {\n            seenBy.push(Number(userId));\n        }\n        notice.meta.seen_by = seenBy;\n    }\n    dismissing.value[notice.id] = false;\n};\n\n\nconst returnLayout = computed(() => {\n    return appStore.state.uixpress_settings?.layout;\n});\n\nconst returnThemeStyles = computed(() => {\n    switch (returnLayout.value) {\n        case \"rounded\":\n            return `rounded-lg shadow-sm mx-4`;\n        case \"bubble\":\n            return `rounded-lg shadow-sm mx-6`;\n        default:\n            return '';\n    }\n});\n\nonMounted(fetchNotices);\n</script>\n\n<template>\n    <Transition>\n        <div v-if=\"!loading\" class=\"uipx-normalize\">\n            <div v-if=\"filteredNotices.length > 0\" class=\"flex flex-col \">\n                <div v-for=\"notice in filteredNotices\" :key=\"notice.id\"\n                    class=\"flex flex-row items-start gap-4 border-b py-4 px-6\"\n                    :class=\"[typeStyles[notice.meta?.notice_type || 'info'].container, returnThemeStyles]\">\n                    <div class=\"flex flex-col gap-1 flex-1\">\n                        <div class=\"font-semibold text-base\" v-html=\"notice.title.rendered\"></div>\n                        <div class=\"prose dark:prose-invert max-w-none\" v-html=\"notice.content.rendered\"></div>\n                    </div>\n                    <AppButton v-if=\"notice.meta?.dismissible\" @click=\"dismissNotice(notice)\"\n                        :loading=\"dismissing[notice.id]\" type=\"transparent\">\n                        <AppIcon icon=\"close\" />\n                    </AppButton>\n                </div>\n            </div>\n        </div>\n    </Transition>\n</template>","const excludedPages = [\n  \"index.php\",\n  \"update-core.php\",\n  \"edit.php\",\n  \"post.php\",\n  \"post-new.php\",\n  \"edit-tags.php\",\n  \"upload.php\",\n  \"media-new.php\",\n  \"edit-comments.php\",\n  \"themes.php\",\n  \"customize.php\",\n  \"site-editor.php\",\n  \"plugins.php\",\n  \"plugin-install.php\",\n  \"users.php\",\n  \"user-new.php\",\n  \"profile.php\",\n  \"plugin-editor.php\",\n  \"options-general.php\",\n  \"options-writing.php\",\n  \"options-reading.php\",\n  \"options-discussion.php\",\n  \"options-media.php\",\n  \"options-permalink.php\",\n  \"options-privacy.php\",\n  \"theme-install.php\",\n];\n\nconst forcedBodyClasses = [\"acf-admin-page\", \"settings_page_slim-seo\"];\n\nconst bodyDoesNotHaveClass = () => {\n  const classList = document.body.classList;\n\n  for (let subclass of forcedBodyClasses) {\n    if (classList.contains(subclass)) return false;\n  }\n\n  return true;\n};\n\nexport const autoDarkMode = (node) => {\n  let isProcessing = false;\n  let pendingChanges = false;\n\n  for (let page of excludedPages) {\n    if (page == \"options-general.php\") {\n      const url = window.location.href;\n      const urlParams = new URLSearchParams(window.location.search);\n      if (url.includes(\"options-general.php\") && urlParams.has(\"page\")) {\n        continue;\n      }\n    }\n\n    if (window.location.href.includes(page) && bodyDoesNotHaveClass()) {\n      return;\n    }\n  }\n\n  function getRGBFromColor(color) {\n    const tempDiv = document.createElement(\"div\");\n    tempDiv.style.color = color;\n    document.body.appendChild(tempDiv);\n    const rgbColor = window.getComputedStyle(tempDiv).color;\n    document.body.removeChild(tempDiv);\n    const match = rgbColor.match(/\\d+(\\.\\d+)?/g);\n    if (match) {\n      const [r, g, b, a = 1] = match.map(Number);\n      return { r, g, b, a };\n    }\n    return { r: 0, g: 0, b: 0, a: 1 }; // Default to black if parsing fails\n  }\n\n  function calculatePerceivedBrightness(r, g, b) {\n    return Math.sqrt(0.299 * r * r + 0.587 * g * g + 0.114 * b * b) / 255;\n  }\n\n  function calculateContrast(rgb1, rgb2) {\n    // Assuming rgb2 is the background color\n    if (rgb2.a < 1) {\n      // If background is semi-transparent, blend it with a dark color (near black)\n      const alpha = rgb2.a;\n      const darkBackground = { r: 18, g: 18, b: 18 }; // Very dark gray\n      rgb2 = {\n        r: rgb2.r * alpha + darkBackground.r * (1 - alpha),\n        g: rgb2.g * alpha + darkBackground.g * (1 - alpha),\n        b: rgb2.b * alpha + darkBackground.b * (1 - alpha),\n        a: 1,\n      };\n    }\n\n    const l1 = calculateRelativeLuminance(rgb1);\n    const l2 = calculateRelativeLuminance(rgb2);\n    const brightest = Math.max(l1, l2);\n    const darkest = Math.min(l1, l2);\n    return (brightest + 0.05) / (darkest + 0.05);\n  }\n\n  function calculateRelativeLuminance(rgb) {\n    const sRGB = [rgb.r, rgb.g, rgb.b].map((val) => {\n      val /= 255;\n      return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n    });\n    return 0.2126 * sRGB[0] + 0.7152 * sRGB[1] + 0.0722 * sRGB[2];\n  }\n\n  function isVeryDarkColor(rgb) {\n    return rgb.r <= 30 && rgb.g <= 30 && rgb.b <= 30;\n  }\n\n  function isLightColor(color) {\n    const rgb = getRGBFromColor(color);\n    const brightness = calculatePerceivedBrightness(rgb.r, rgb.g, rgb.b);\n    return brightness > 0.5 && !isVeryDarkColor(rgb);\n  }\n\n  function isMediumToLightColor(color) {\n    const rgb = getRGBFromColor(color);\n    const brightness = calculatePerceivedBrightness(rgb.r, rgb.g, rgb.b);\n    return brightness > 0.4; // More sensitive threshold for borders\n  }\n\n  function needsContrast(textColor, bgColor) {\n    const textRGB = getRGBFromColor(textColor);\n    let bgRGB = getRGBFromColor(bgColor);\n\n    // If background is fully transparent, assume a dark background\n    if (bgRGB.a === 0) {\n      bgRGB = { r: 18, g: 18, b: 18, a: 1 }; // Very dark gray\n    }\n\n    const contrast = calculateContrast(textRGB, bgRGB);\n    return contrast < 4.5 || isVeryDarkColor(textRGB);\n  }\n\n  function hasBorder(style) {\n    const borderProperties = [\n      \"border\",\n      \"border-top\",\n      \"border-right\",\n      \"border-bottom\",\n      \"border-left\",\n      \"border-inline\",\n      \"border-inline-start\",\n      \"border-inline-end\",\n      \"border-block\",\n      \"border-block-start\",\n      \"border-block-end\",\n    ];\n\n    return borderProperties.some((prop) => {\n      const value = style.getPropertyValue(prop);\n      return value && value !== \"none\" && value !== \"0px\";\n    });\n  }\n\n  function isWhiteOrExtremelyClose(rgb) {\n    return rgb.r >= 250 && rgb.g >= 250 && rgb.b >= 250;\n  }\n\n  function applyDarkModeClasses(element) {\n    if (element.classList.contains(\"dark-mode-processed\")) {\n      return;\n    }\n\n    const style = window.getComputedStyle(element);\n    const textColor = style.color;\n    const backgroundColor = style.backgroundColor;\n    const borderColor = style.borderColor;\n\n    if (needsContrast(textColor, backgroundColor)) {\n      element.classList.add(\"dark:important:text-zinc-300\");\n    }\n\n    const bgRGB = getRGBFromColor(backgroundColor);\n    if (!isVeryDarkColor(bgRGB)) {\n      if (isWhiteOrExtremelyClose(bgRGB)) {\n        element.classList.add(\"dark:important:bg-zinc-900\");\n      } else {\n        element.classList.add(\"dark:important:bg-zinc-800\");\n      }\n    }\n\n    if (hasBorder(style)) {\n      element.classList.add(\"dark:important:border-zinc-700\");\n    }\n\n    element.classList.add(\"dark-mode-processed\");\n  }\n\n  function traverse(node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      applyDarkModeClasses(node);\n    }\n    for (let child of node.childNodes) {\n      traverse(child);\n    }\n  }\n\n  function processChanges() {\n    if (isProcessing) {\n      pendingChanges = true;\n      return;\n    }\n\n    isProcessing = true;\n    pendingChanges = false;\n\n    traverse(node);\n\n    isProcessing = false;\n\n    if (pendingChanges) {\n      requestAnimationFrame(processChanges);\n    }\n  }\n\n  // Initial processing\n  processChanges();\n\n  // Set up the mutation observer\n  const observer = new MutationObserver((mutations) => {\n    if (!isProcessing) {\n      requestAnimationFrame(processChanges);\n    } else {\n      pendingChanges = true;\n    }\n  });\n\n  observer.observe(node, {\n    childList: true,\n    subtree: true,\n    attributes: true,\n    attributeFilter: [\"style\", \"class\"],\n  });\n\n  // Return a function to disconnect the observer when needed\n  return () => observer.disconnect();\n};\n","export const mountHelpers = (containerNode) => {};\n","<script setup>\nimport { ref, onMounted, computed, watchEffect, nextTick } from \"vue\";\nimport { ShadowRoot } from \"vue-shadow-dom\";\n\n// Import comps\nimport Notifications from \"@/components/utility/notifications/index.vue\";\nimport LoadingIndicator from \"@/components/utility/loading-indicator/index.ts\";\nimport AdminMenu from \"@/components/app/menu/index.vue\";\nimport ToolBar from \"@/components/app/toolbar/index.vue\";\nimport AdminNotices from \"@/components/app/admin-notices/index.vue\";\n\n// Funcs\nimport { lmnFetch } from \"@/assets/js/functions/lmnFetch.js\";\nimport { watchNodeSize } from \"@/assets/js/functions/watchNodeSize.js\";\nimport { hexToRgb } from \"@/assets/js/functions/hexToRgb.js\";\nimport { isObject } from \"@/assets/js/functions/isObject.js\";\nimport { autoDarkMode } from \"@/assets/js/functions/autoDarkMode.js\";\nimport { mountHelpers } from \"./src/mountHelpers.js\";\nimport { setupColorScheme, useColorScheme } from \"@/assets/js/functions/useColorScheme.js\";\nsetupColorScheme();\nconst { prefersDark } = useColorScheme();\n\n// Refs\nconst adoptedStyleSheets = ref(new CSSStyleSheet());\nconst loading = ref(true);\nconst requiresSetup = ref(false);\nconst bodyholder = ref(null);\nconst shadowRootHolder = ref(null);\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n\n/**\n * Injects styles into shadow root\n */\nconst setStyles = () => {\n  let appStyleNode = document.querySelector(\"#uixpress-css\");\n  if (!appStyleNode) {\n    appStyleNode = manuallyAddStyleSheet();\n    // Wait for stylesheet to load\n    appStyleNode.onload = () => {\n      const appStyles = appStyleNode.sheet;\n      for (const rule of [...appStyles.cssRules].reverse()) {\n        adoptedStyleSheets.value.insertRule(rule.cssText);\n      }\n      setCustomProperties();\n    };\n  } else {\n    const appStyles = appStyleNode.sheet;\n    for (const rule of [...appStyles.cssRules].reverse()) {\n      adoptedStyleSheets.value.insertRule(rule.cssText);\n    }\n    setCustomProperties();\n  }\n\n  //appStyleNode.remove();\n};\n\nconst manuallyAddStyleSheet = () => {\n  var link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.href = `${appStore.state.siteURL}/wp-content/plugins/uixpress/app/dist/assets/styles/app.css`;\n  document.head.appendChild(link);\n\n  return link;\n};\n\nconst returnCustomCSS = computed(() => {\n  return appStore.state.uixpress_settings?.custom_css || \"\";\n});\n\nconst returnLayout = computed(() => {\n  return appStore.state.uixpress_settings?.layout;\n});\n\nconst setCustomProperties = () => {\n  // Base colors\n  if (Array.isArray(appStore.state.uixpress_settings.base_theme_scale)) {\n    const baseCssValues = appStore.state.uixpress_settings.base_theme_scale;\n    for (let color of baseCssValues) {\n      const hexArray = hexToRgb(color.color);\n      const variableName = `--uix-base-${color.step}`;\n      document.documentElement.style.setProperty(variableName, hexArray.join(\" \"));\n    }\n  }\n\n  // Accent colors\n  if (Array.isArray(appStore.state.uixpress_settings.accent_theme_scale)) {\n    const baseCssValues = appStore.state.uixpress_settings.accent_theme_scale;\n\n    for (let color of baseCssValues) {\n      const hexArray = hexToRgb(color.color);\n      const variableName = `--uix-accent-${color.step}`;\n      document.documentElement.style.setProperty(variableName, hexArray.join(\" \"));\n    }\n  }\n};\n\nconst moveBodyContents = () => {\n  // Ensure targetNode is a valid DOM element\n  if (!(bodyholder.value instanceof Element)) {\n    throw new Error(\"Target node must be a valid DOM element\");\n  }\n\n  // Clear the target node\n  while (bodyholder.value.firstChild) {\n    bodyholder.value.removeChild(bodyholder.value.firstChild);\n  }\n\n  // Get all child nodes of the body\n  const bodyChildren = Array.from(document.body.children);\n\n  // Iterate through each child\n  bodyChildren.forEach((child) => {\n    // Skip the targetNode itself if it's a direct child of body\n    if (child === bodyholder.value) return;\n\n    // Skip the excluded element if an ID was provided\n    if (child.id === \"uip-classic-app\") return;\n\n    // Move the child to the target node\n    bodyholder.value.appendChild(child);\n  });\n\n  // Run auto dark if in dark mode\n  if (prefersDark.value && appStore.state.uixpress_settings.auto_dark) {\n    nextTick(() => {\n      autoDarkMode(bodyholder.value);\n      mountHelpers(bodyholder.value);\n    });\n  }\n\n  nextTick(() => {\n    mountHelpers(bodyholder.value);\n  });\n};\n\n/**\n * Get's site settings\n */\nconst getSettings = async () => {\n  // If user can't manage options we need to bail;\n  if (!appStore.state.canManageOptions) return;\n\n  appStore.updateState(\"loading\", true);\n\n  const args = { endpoint: \"wp/v2/settings\", params: {} };\n  const response = await lmnFetch(args);\n\n  // Something went wrong\n  if (!response) {\n    finishLoading();\n    return;\n  }\n  const uixpress_settings = response.data.uixpress_settings;\n\n  if (!uixpress_settings || Array.isArray(uixpress_settings)) {\n    //requiresSetup.value = true;\n    appStore.updateState(\"uixpress_settings\", {});\n    finishLoading();\n    return;\n  }\n\n  appStore.updateState(\"uixpress_settings\", uixpress_settings);\n\n  finishLoading();\n};\n\nconst finishLoading = () => {\n  //appStore.updateState(\"loading\", false);\n  loading.value = false;\n};\n\nconst stopWatch = watchEffect(() => {\n  if (bodyholder.value) {\n    moveBodyContents();\n    stopWatch();\n  }\n});\n\nconst mountViewTransitions = async () => {\n  // No view transition support\n  if (!document.startViewTransition) return;\n\n  let isNavigating = false;\n\n  window.navigation.addEventListener(\"navigate\", (event) => {\n    const toUrl = new URL(event.destination.url);\n\n    // Only handle navigate events for same-origin navigation\n    if (location.origin !== toUrl.origin) return;\n\n    // Don't intercept if it's a reload or if we're already navigating\n    if (event.navigationType === \"reload\" || event.navigationType === \"replace\" || isNavigating) return;\n\n    // Don't load on hash changes\n    if (toUrl) {\n      if (toUrl.hash) return;\n    }\n\n    appStore.updateState(\"loading\", true);\n\n    setTimeout(() => {\n      appStore.updateState(\"loading\", false);\n    }, 5000);\n  });\n};\n\nwatchEffect(() => {\n  if (prefersDark.value) {\n    document.body.classList.add(\"dark\");\n  } else {\n    document.body.classList.remove(\"dark\");\n  }\n});\n\ndocument.body.classList.add(\"uipc-body\");\n\nsetStyles();\nonMounted(mountViewTransitions);\n\nwindow.addEventListener(\"pagehide\", (event) => {\n  appStore.updateState(\"loading\", false);\n});\n\n// Watch for changes to the settings options and update accordingly\ndocument.addEventListener(\"uipx-settings-update\", (event) => {\n  // Bail if not an object\n  if (!isObject(event.detail)) return;\n  // Update settings\n  appStore.state.uixpress_settings = { ...appStore.state.uixpress_settings, ...event.detail };\n});\n\n// Computed classes for body container based on layout\nconst bodyClasses = computed(() => {\n  const baseClasses = \"overflow-auto grow relative uipc-body pointer-events-auto\";\n\n  switch (returnLayout.value) {\n    case \"rounded\":\n      return `${baseClasses} rounded-tl-xl rounded-bl-xl bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 border-solid shadow ml-4 mt-4 max-lg:ml-0 max-lg:mt-0 max-lg:rounded-bl-none max-lg:rounded-tl-none`;\n    case \"bubble\":\n      return baseClasses;\n    default:\n      return baseClasses;\n  }\n});\n\n// Computed classes for the wrapper based on layout\nconst wrapperClasses = computed(() => {\n  const baseClasses = \"flex flex-col h-screen w-full max-w-full max-h-screen overflow-hidden\";\n\n  switch (returnLayout.value) {\n    case \"rounded\":\n      return `${baseClasses} pb-4 box-border max-lg:pb-0`;\n    case \"bubble\":\n      return `${baseClasses} bg-zinc-100/50 dark:bg-zinc-900`;\n    default:\n      return baseClasses;\n  }\n});\n\n// Computed classes for admin menu\nconst menuContainerClasses = computed(() => {\n  const baseClasses = \"shrink-0 max-lg:hidden uipx-normalize\";\n\n  switch (returnLayout.value) {\n    case \"rounded\":\n      return `${baseClasses} bg-white dark:bg-zinc-900`;\n    case \"bubble\":\n      return `${baseClasses} p-6 bg-zinc-100/50 dark:bg-zinc-900 max-h-[100dvh]`;\n    default:\n      return baseClasses;\n  }\n});\n\nconst menuClasses = computed(() => {\n  const baseClasses = \"uipx-normalize box-border font-sans\";\n  const darkClass = prefersDark.value ? \"dark\" : \"\";\n\n  switch (returnLayout.value) {\n    case \"rounded\":\n      return `${baseClasses} ${darkClass}`;\n    case \"bubble\":\n      return `${baseClasses} ${darkClass} border border-zinc-100 dark:border-zinc-700/30 bg-white dark:bg-zinc-800/40 rounded-2xl shadow-lg`;\n    default:\n      return `${baseClasses} ${darkClass} border-r border-zinc-200 dark:border-zinc-700/30 bg-white dark:bg-zinc-900`;\n  }\n});\n\nconst toolbarContainerClasses = computed(() => {\n  return returnLayout.value === \"bubble\" ? \"pt-2\" : \"\";\n});\n\nconst toolbarClasses = computed(() => {\n  const baseClasses = \"shrink-0 uipx-normalize font-sans\";\n  const darkClass = prefersDark.value ? \"dark\" : \"\";\n\n  switch (returnLayout.value) {\n    case \"rounded\":\n      return `${baseClasses} ${darkClass} bg-white dark:bg-zinc-900`;\n    case \"bubble\":\n      return `${baseClasses} ${darkClass}`;\n    default:\n      return `${baseClasses} ${darkClass} border-b border-zinc-200 dark:border-zinc-700/30 bg-white dark:bg-zinc-900`;\n  }\n});\n\n/*\nwp.media = (options) => {\n  const defaultMethods = {\n    open: () => {},\n    close: () => {},\n    on: (event, callback) => {},\n    off: (event, callback) => {},\n    get: (prop) => {},\n    set: (props, val) => {},\n    render: () => {},\n    state: () => ({\n      get: (prop) => {},\n      set: (props, val) => {},\n      on: (event, callback) => {},\n      off: (event, callback) => {},\n    }),\n    frame: {\n      on: (event, callback) => {},\n      off: (event, callback) => {},\n      render: () => {},\n      content: {\n        get: () => ({\n          on: (event, callback) => {},\n          off: (event, callback) => {},\n          render: () => {},\n        }),\n      },\n    },\n    uploader: {\n      on: (event, callback) => {},\n      off: (event, callback) => {},\n      render: () => {},\n    },\n    bind: (event, callback) => {},\n    unbind: (event, callback) => {},\n  };\n\n  return Object.assign({}, defaultMethods, options);\n};\n\n// Helper function to create view constructors\nconst createViewConstructor = (name) => {\n  return function () {\n    return {\n      prepare: () => {},\n      render: () => {},\n      remove: () => {},\n    };\n  };\n};\n\n// Override wp.media.view and its components\nwp.media.view = createViewConstructor(\"View\");\nwp.media.view.MediaFrame = createViewConstructor(\"MediaFrame\");\nwp.media.view.MediaFrame.Select = createViewConstructor(\"MediaFrame.Select\");\nwp.media.view.MediaFrame.Post = createViewConstructor(\"MediaFrame.Post\");\nwp.media.view.Modal = createViewConstructor(\"Modal\");\nwp.media.view.FocusManager = createViewConstructor(\"FocusManager\");\nwp.media.view.UploaderWindow = createViewConstructor(\"UploaderWindow\");\nwp.media.view.EditorUploader = createViewConstructor(\"EditorUploader\");\nwp.media.view.UploaderInline = createViewConstructor(\"UploaderInline\");\nwp.media.view.UploaderStatus = createViewConstructor(\"UploaderStatus\");\nwp.media.view.UploaderStatusError = createViewConstructor(\"UploaderStatusError\");\nwp.media.view.Toolbar = createViewConstructor(\"Toolbar\");\nwp.media.view.Attachment = createViewConstructor(\"Attachment\");\nwp.media.view.Attachment.Library = createViewConstructor(\"Attachment.Library\");\nwp.media.view.Attachment.EditLibrary = createViewConstructor(\"Attachment.EditLibrary\");\nwp.media.view.Settings = createViewConstructor(\"Settings\");\nwp.media.view.Settings.AttachmentDisplay = createViewConstructor(\"Settings.AttachmentDisplay\");\n\n// Helper function to create model constructors\nconst createModelConstructor = (name) => {\n  return function () {\n    return {\n      get: (prop) => {},\n      set: (props, val) => {},\n      on: (event, callback) => {},\n      off: (event, callback) => {},\n    };\n  };\n};\n\n// Override wp.media.model and its components\nwp.media.model = createModelConstructor(\"Model\");\nwp.media.model.Attachments = createModelConstructor(\"Attachments\");\nwp.media.model.Query = createModelConstructor(\"Query\");\nwp.media.model.Selection = createModelConstructor(\"Selection\");\nwp.media.model.Attachment = createModelConstructor(\"Attachment\");\n\n// Ensure wp.media.frames exists\nwp.media.frames = wp.media.frames || {};\n\n// Override the wp.Uploader if it exists\nif (wp.Uploader) {\n  wp.Uploader.queue = {\n    on: (event, callback) => {},\n    off: (event, callback) => {},\n  };\n}\n*/\n//getSettings();\n</script>\n\n<template>\n  <div class=\"bg-white dark:bg-zinc-900\">\n    <component is=\"style\"> :root{font-size:14px}table.fixed {position: static}</component>\n    <component is=\"style\" v-html=\"returnCustomCSS\"></component>\n    <Notifications class=\"uipx-normalize font-sans\" />\n    <Teleport to=\"body\">\n      <div class=\"uipx-normalize fixed top-0 left-0 right-0\">\n        <LoadingIndicator :height=\"3\" class=\"\" />\n      </div>\n    </Teleport>\n\n    <div class=\"w-full h-full flex flex-row max-w-full overflow-hidden text-zinc-700 dark:text-zinc-300\">\n      <!-- Menu with combined classes -->\n      <ShadowRoot tag=\"div\" :adopted-style-sheets=\"[adoptedStyleSheets]\" :class=\"menuContainerClasses\">\n        <component is=\"style\"> {{ returnCustomCSS }}</component>\n        <AdminMenu :class=\"menuClasses\" id=\"uixp-menu\" />\n\n        <template v-if=\"Array.isArray(appStore.state.uixpress_settings.external_stylesheets)\"\n          v-for=\"(style, index) in appStore.state.uixpress_settings.external_stylesheets\">\n          <link rel=\"stylesheet\" :id=\"`uix-external-${index}-css`\" :href=\"style\" media=\"all\" />\n        </template>\n      </ShadowRoot>\n\n      <!-- Main content wrapper -->\n      <div :class=\"wrapperClasses\">\n        <!-- Toolbar with combined classes -->\n        <ShadowRoot tag=\"div\" :adopted-style-sheets=\"[adoptedStyleSheets]\" :class=\"toolbarContainerClasses\">\n          <component is=\"style\"> {{ returnCustomCSS }}</component>\n          <ToolBar :class=\"toolbarClasses\" id=\"uixp-toolbar\" />\n          <template v-if=\"Array.isArray(appStore.state.uixpress_settings.external_stylesheets)\"\n            v-for=\"(style, index) in appStore.state.uixpress_settings.external_stylesheets\">\n            <link rel=\"stylesheet\" :id=\"`uix-external-${index}-css`\" :href=\"style\" media=\"all\" />\n          </template>\n          <AdminNotices :class=\"prefersDark ? 'dark' : ''\" />\n        </ShadowRoot>\n\n        <div :class=\"bodyClasses\" ref=\"bodyholder\" id=\"uixp-body\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.uipx-normalize * {\n  box-sizing: border-box;\n}\n</style>\n","import { createApp } from \"vue\";\nimport { createPinia } from \"pinia\";\nimport \"./index.css\";\n\n// Import store\nimport { useAppStore } from \"@/store/app/app.js\";\nimport { setGlobalProperties } from \"@/setup/setGlobalProperties.js\";\n\n// Import comps\nimport AppWrapper from \"@/components/app/wrapper/index.vue\";\n\n// Build app\nconst app = createApp(AppWrapper);\n\n// Use pinia\nconst pinia = createPinia();\napp.use(pinia);\n\n// Update app store\nconst appStore = useAppStore();\nsetGlobalProperties(appStore);\n\n// Initialize an empty Map for replacements\nlet replacementMap = new Map();\n\n// Safely create the replacement map if the data is available and valid\nif (appStore && appStore.state && appStore.state.uixpress_settings && Array.isArray(appStore.state.uixpress_settings.text_replacements)) {\n  replacementMap = new Map(\n    appStore.state.uixpress_settings.text_replacements\n      .filter((pair) => Array.isArray(pair) && pair.length === 2 && typeof pair[0] === \"string\" && typeof pair[1] === \"string\")\n      .map((pair) => [pair[0], pair[1]])\n  );\n}\n// Store the original __() function\nconst originalGettext = __;\n\nconst translatorFunction = (text, domain) => {\n  // First, apply our custom replacements\n  let replacedText = replacementMap.get(text) || text;\n  // Then, call the original __() function\n  return originalGettext(replacedText, domain);\n};\n\nwindow.__ = translatorFunction;\n\n// Declare translation functions\napp.config.globalProperties.__ = translatorFunction;\napp.config.globalProperties.sprintf = sprintf;\n\n// Move favicon to head\nconst faviconLink = document.getElementById(\"uipx-favicon\");\n\n// Check if the element exists\nif (faviconLink) {\n  // Get the head element\n  const head = document.getElementsByTagName(\"head\")[0];\n  // Move the favicon link to the head\n  head.appendChild(faviconLink);\n}\n\nconst mountPoint = document.querySelector(\"#uip-classic-app\");\nif (mountPoint) {\n  app.mount(\"#uip-classic-app\");\n} else {\n  // Create the div element\n  const div = document.createElement(\"div\");\n  div.id = \"uip-classic-app\";\n  div.className = \"fixed inset-0 h-screen w-screen z-[2] bg-white dark:bg-zinc-900\";\n  document.body.appendChild(div);\n  app.mount(div);\n}\n\nconst temporaryStyles = document.querySelector(\"#uipc-temporary-body-hider\");\nif (temporaryStyles) temporaryStyles.remove();\n"],"names":["appStore","useAppStore","notices","ref","loading","dismissing","fetchNotices","response","lmnFetch","appliesToCurrentUser","notice","userId","userRoles","roles","_a","seenBy","_b","r","typeStyles","filteredNotices","computed","dismissNotice","returnLayout","returnThemeStyles","onMounted","_createBlock","_Transition","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","_normalizeClass","_createElementVNode","_hoisted_3","AppButton","$event","_createVNode","AppIcon","excludedPages","forcedBodyClasses","bodyDoesNotHaveClass","classList","subclass","autoDarkMode","node","isProcessing","pendingChanges","page","url","urlParams","getRGBFromColor","color","tempDiv","rgbColor","match","g","b","a","calculateContrast","rgb1","rgb2","alpha","darkBackground","l1","calculateRelativeLuminance","l2","brightest","darkest","rgb","sRGB","val","isVeryDarkColor","needsContrast","textColor","bgColor","textRGB","bgRGB","hasBorder","style","prop","value","isWhiteOrExtremelyClose","applyDarkModeClasses","element","backgroundColor","traverse","child","processChanges","observer","mutations","mountHelpers","containerNode","setupColorScheme","prefersDark","useColorScheme","adoptedStyleSheets","bodyholder","setStyles","appStyleNode","manuallyAddStyleSheet","appStyles","rule","setCustomProperties","link","returnCustomCSS","baseCssValues","hexArray","hexToRgb","variableName","moveBodyContents","nextTick","stopWatch","watchEffect","mountViewTransitions","isNavigating","event","toUrl","isObject","bodyClasses","baseClasses","wrapperClasses","menuContainerClasses","menuClasses","darkClass","toolbarContainerClasses","toolbarClasses","_resolveDynamicComponent","_cache","Notifications","_Teleport","_unref","LoadingIndicator","ShadowRoot","AdminMenu","index","ToolBar","AdminNotices","app","createApp","AppWrapper","pinia","createPinia","setGlobalProperties","replacementMap","pair","originalGettext","translatorFunction","text","domain","replacedText","faviconLink","mountPoint","div","temporaryStyles"],"mappings":"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"}