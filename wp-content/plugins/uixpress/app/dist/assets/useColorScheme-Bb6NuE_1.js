import{r as c,c as m,u as f}from"./index-BwRceJDo.js";const u=c(!1),s=c("system"),i=c(!1);let n=null,r;const l=()=>{const e=s.value==="dark"||s.value==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;u.value=o.value=="dark"?!0:e},d=(e,t)=>{if(["light","dark","system"].includes(e)&&(s.value=e,localStorage.setItem("uipc_theme",e),l(),!t)){const a=new CustomEvent("uipx-theme-update",{detail:e});document.dispatchEvent(a)}},h=()=>{s.value=localStorage.getItem("uipc_theme")||"system",l(),window.matchMedia&&(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",l))},o=m(()=>{var t,a;r||(r=f());const e=(a=(t=r==null?void 0:r.state)==null?void 0:t.uixpress_settings)==null?void 0:a.force_global_theme;return e=="off"||!e?!1:e}),p=()=>{i.value||(i.value=!0,document.addEventListener("uipx-theme-update",t=>{t.detail&&d(t.detail,!0)}));const e=m(()=>o.value?o.value:s.value!=="system"?s.value:u.value?"dark":"light");return{prefersDark:u,colorScheme:e,setColorScheme:d,userPreference:s,globalOverride:o}};export{h as s,p as u};
//# sourceMappingURL=useColorScheme-Bb6NuE_1.js.map
