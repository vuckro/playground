{"version":3,"file":"index-taYQYvFe.js","sources":["../../src/components/utility/tabs/index.vue"],"sourcesContent":["<script setup>\nimport { defineProps, ref, computed, watchEffect } from \"vue\";\n\nconst props = defineProps({\n  options: {\n    default: () => {\n      return {\n        false: { label: \"No\", value: false },\n        true: { label: \"Yes\", value: true },\n      };\n    },\n    type: Object,\n  },\n  autoselect: { default: () => true, type: Boolean },\n  allowDeselect: { default: () => false, type: Boolean },\n});\nconst model = defineModel();\nconst tabRef = ref(null);\nconst tabContainer = ref(null);\nconst showBack = ref(true);\n\nconst bgStyle = ref({\n  width: null,\n  left: null,\n  right: null,\n  [\"z-index\"]: 1,\n  bottom: \"0px\",\n});\n\n/**\n * Returns background style of back\n */\nconst setBgStyle = () => {\n  if (tabRef.value === null) return;\n\n  let val = String(model.value); // Convert boolean values to strings\n\n  const keys = Object.keys(props.options);\n  const index = keys.findIndex((item) => item == val);\n\n  // No index so bail\n  if (index < 0) return (showBack.value = false);\n\n  const activeKey = keys[index];\n\n  const target = tabRef.value[index];\n\n  const rect = target.getBoundingClientRect();\n  const containerRect = tabContainer.value.getBoundingClientRect();\n  const left = rect.left - containerRect.left;\n\n  showBack.value = true;\n\n  bgStyle.value.width = `${rect.width}px`;\n  bgStyle.value.left = `${left}px`;\n};\n\nconst returnActiveClass = (item) => {\n  return item.value === model.value ? \"text-zinc-900 dark:text-zinc-100\" : \"text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 hover:dark:text-zinc-100 \";\n};\n\nconst setActive = (value) => {\n  if (model.value === value && props.allowDeselect) model.value = null;\n  else model.value = value;\n  setBgStyle();\n};\n\nwatchEffect(() => {\n  // If undefined select first option\n  if ((typeof model.value === \"undefined\" || model.value === null) && props.autoselect) {\n    const key = Object.keys(props.options)[0];\n    setActive(props.options[key].value);\n  } else {\n    setBgStyle();\n  }\n});\n</script>\n\n<template>\n  <div class=\"relative\">\n    <div ref=\"tabContainer\" class=\"relative flex border-b border-zinc-200 dark:border-zinc-700 max-w-full gap-3\" style=\"overflow-x: auto\">\n      <template v-for=\"(item, index) in options\">\n        <a ref=\"tabRef\" type=\"button\" class=\"py-3 px-2 text-center cursor-pointer transition-all select-none\" style=\"z-index: 2\" :class=\"returnActiveClass(item)\" @click=\"setActive(item.value)\">\n          <div class=\"whitespace-nowrap\" v-html=\"item.label\"></div>\n        </a>\n      </template>\n    </div>\n    <div v-if=\"showBack\" class=\"absolute transition-all border-b-[2px] border-indigo-600\" :style=\"bgStyle\"></div>\n  </div>\n</template>\n"],"names":["props","__props","model","_useModel","tabRef","ref","tabContainer","showBack","bgStyle","setBgStyle","val","keys","index","item","rect","containerRect","left","returnActiveClass","setActive","value","watchEffect","key","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_Fragment","_renderList","_normalizeClass","$event"],"mappings":"qcAGA,MAAMA,EAAQC,EAaRC,EAAQC,gBAAY,EACpBC,EAASC,EAAI,IAAI,EACjBC,EAAeD,EAAI,IAAI,EACvBE,EAAWF,EAAI,EAAI,EAEnBG,EAAUH,EAAI,CAClB,MAAO,KACP,KAAM,KACN,MAAO,KACN,UAAY,EACb,OAAQ,KAAA,CACT,EAKKI,EAAa,IAAM,CACvB,GAAIL,EAAO,QAAU,KAAM,OAE3B,IAAIM,EAAM,OAAOR,EAAM,KAAK,EAE5B,MAAMS,EAAO,OAAO,KAAKX,EAAM,OAAO,EAChCY,EAAQD,EAAK,UAAWE,GAASA,GAAQH,CAAG,EAGlD,GAAIE,EAAQ,EAAG,OAAQL,EAAS,MAAQ,GAEtBI,EAAKC,CAAK,EAI5B,MAAME,EAFSV,EAAO,MAAMQ,CAAK,EAEb,sBAAA,EACdG,EAAgBT,EAAa,MAAM,sBAAA,EACnCU,EAAOF,EAAK,KAAOC,EAAc,KAEvCR,EAAS,MAAQ,GAEjBC,EAAQ,MAAM,MAAQ,GAAGM,EAAK,KAAK,KACnCN,EAAQ,MAAM,KAAO,GAAGQ,CAAI,IAAA,EAGxBC,EAAqBJ,GAClBA,EAAK,QAAUX,EAAM,MAAQ,mCAAqC,iFAGrEgB,EAAaC,GAAU,CACvBjB,EAAM,QAAUiB,GAASnB,EAAM,gBAAqB,MAAQ,OACrD,MAAQmB,EACnBV,EAAA,CAAW,EAGb,OAAAW,EAAY,IAAM,CAEhB,IAAK,OAAOlB,EAAM,MAAU,KAAeA,EAAM,QAAU,OAASF,EAAM,WAAY,CACpF,MAAMqB,EAAM,OAAO,KAAKrB,EAAM,OAAO,EAAE,CAAC,EACxCkB,EAAUlB,EAAM,QAAQqB,CAAG,EAAE,KAAK,CAAA,MAElCZ,EAAA,CACF,CACD,UAICa,EAAA,EAAAC,EASM,MATNC,EASM,CARJC,EAMM,MAAA,SANG,eAAJ,IAAInB,EAAe,MAAM,+EAA+E,MAAA,CAAA,aAAA,MAAA,CAAA,IAC3GgB,EAAA,EAAA,EAAAC,EAIWG,EAAA,KAAAC,EAJuB1B,EAAA,QAAO,CAAvBY,EAAMD,SACtBW,EAEI,IAAA,oBAFG,SAAJ,IAAInB,EAAS,KAAK,SAAS,MAAKwB,EAAA,CAAC,kEAA6FX,EAAkBJ,CAAI,CAAA,CAAA,EAAjD,MAAA,CAAA,UAAA,GAAA,EAAqD,QAAKgB,GAAEX,EAAUL,EAAK,KAAK,CAAA,GACpLY,EAAyD,MAAA,CAApD,MAAM,oBAAoB,UAAQZ,EAAK,KAAA,iCAIvCN,EAAA,WAAXgB,EAA6G,MAAA,OAAxF,MAAM,2DAA4D,QAAOf,EAAA,KAAO,CAAA"}