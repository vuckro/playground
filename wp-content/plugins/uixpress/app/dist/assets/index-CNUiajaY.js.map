{"version":3,"file":"index-CNUiajaY.js","sources":["../../src/components/utility/modal/index.vue"],"sourcesContent":["<script setup>\nimport { ref, computed, watchEffect, nextTick, defineProps } from \"vue\";\nconst open = ref(false);\nconst innerOpen = ref(false);\nconst props = defineProps({ position: { type: \"string\", default: \"center\" } });\n\n// Store\nimport { useAppStore } from \"@/store/app/app.js\";\nconst appStore = useAppStore();\n\n// Refs\nconst panel = ref(null);\n\n/**\n * Returns position classes\n */\nconst setPositionClass = computed(() => {\n  if (props.position === \"center\") return \"items-center place-content-center\";\n  if (props.position === \"top\") return \"items-start place-content-center pt-32\";\n});\n/**\n * Shows off canvas\n */\nconst show = () => {\n  open.value = true;\n  document.addEventListener(\"keydown\", handleEscapeKey);\n};\n\n/**\n * Returns whether the modal is open\n */\nconst isOpen = computed(() => {\n  return open.value;\n});\n\n// Watch escape keys\nconst handleEscapeKey = (event) => {\n  if (event.key === \"Escape\") close();\n};\n\nconst shadowRoot = computed(() => {\n  return appStore.state.shadowRootHolder || \"html\";\n});\n\nconst close = (evt) => {\n  if (!panel.value) return;\n  // Don't do anything if the click came from inside panel\n  if (evt) {\n    if (panel.value.contains(evt.target)) return;\n  }\n\n  open.value = false;\n  document.removeEventListener(\"keydown\", handleEscapeKey);\n};\n\nwatchEffect(() => {\n  if (open.value) {\n    nextTick(() => {\n      innerOpen.value = true;\n    });\n  } else {\n    innerOpen.value = false;\n  }\n});\n\n/**\n * Exposes open and close methods\n */\ndefineExpose({\n  show,\n  close,\n  isOpen,\n});\n</script>\n\n<template>\n  <Transition>\n    <div @click=\"close\" v-if=\"open\" class=\"fixed top-0 left-0 right-0 h-dvh max-h-dvh max-w-dvw bg-zinc-900/60 flex flex-row z-[99999] pointer-events-auto\" :class=\"setPositionClass\">\n      <Transition name=\"slide-up\">\n        <div v-if=\"innerOpen\" ref=\"panel\" class=\"bg-white dark:bg-zinc-900 rounded-2xl h-auto border border-zinc-200/80 dark:border-zinc-700 shadow-sm max-w-screen\"><slot /></div>\n      </Transition>\n    </div>\n  </Transition>\n</template>\n\n<style scoped>\n.slide-up-enter-active,\n.slide-up-leave-active {\n  transition: all 0.3s ease-out;\n  transition-delay: 0.2s;\n}\n\n.slide-up-enter-from,\n.slide-up-leave-to {\n  transform: translateY(60px);\n  opacity: 0;\n}\n\n.slide-up-enter-to,\n.slide-up-leave-from {\n  transform: translateY(0);\n  opacity: 1;\n}\n</style>\n"],"names":["open","ref","innerOpen","props","__props","appStore","useAppStore","panel","setPositionClass","computed","show","handleEscapeKey","isOpen","event","close","evt","watchEffect","nextTick","__expose","_createBlock","_Transition","_createElementBlock","_normalizeClass","_createVNode","_renderSlot","_ctx"],"mappings":"mOAEA,MAAMA,EAAOC,EAAI,EAAK,EAChBC,EAAYD,EAAI,EAAK,EACrBE,EAAQC,EAIRC,EAAWC,EAAA,EAGXC,EAAQN,EAAI,IAAI,EAKhBO,EAAmBC,EAAS,IAAM,CACtC,GAAIN,EAAM,WAAa,SAAU,MAAO,oCACxC,GAAIA,EAAM,WAAa,MAAO,MAAO,wCAAA,CACtC,EAIKO,EAAO,IAAM,CACjBV,EAAK,MAAQ,GACb,SAAS,iBAAiB,UAAWW,CAAe,CAAA,EAMhDC,EAASH,EAAS,IACfT,EAAK,KACb,EAGKW,EAAmBE,GAAU,CAC7BA,EAAM,MAAQ,UAAUC,EAAA,CAAM,EAGjBL,EAAS,IACnBJ,EAAS,MAAM,kBAAoB,MAC3C,EAED,MAAMS,EAASC,GAAQ,CAChBR,EAAM,QAEPQ,GACER,EAAM,MAAM,SAASQ,EAAI,MAAM,IAGrCf,EAAK,MAAQ,GACb,SAAS,oBAAoB,UAAWW,CAAe,GAAA,EAGzD,OAAAK,EAAY,IAAM,CACZhB,EAAK,MACPiB,EAAS,IAAM,CACbf,EAAU,MAAQ,EAAA,CACnB,EAEDA,EAAU,MAAQ,EACpB,CACD,EAKDgB,EAAa,CACX,KAAAR,EACA,MAAAI,EACA,OAAAF,CAAA,CACD,cAICO,EAMaC,EAAA,KAAA,WALX,IAIM,CAJoBpB,EAAA,WAA1BqB,EAIM,MAAA,OAJA,QAAOP,EAAmB,MAAKQ,EAAA,CAAC,kHAA0Hd,EAAA,KAAgB,CAAA,CAAA,GAC9Ke,EAEaH,EAAA,CAFD,KAAK,YAAU,WACzB,IAA2K,CAAhKlB,EAAA,WAAXmB,EAA2K,MAAA,eAAjJ,QAAJ,IAAId,EAAQ,MAAM,oHAAA,GAAqHiB,EAAQC,EAAA,OAAA,UAAA,CAAA,EAAA,OAAA,EAAA,CAAA"}