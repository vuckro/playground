import{d as o,b as s,f as $,F as C,n as z,g as r,E as B,A as N,z as Z,G as R,h as d,a1 as ee,B as te,m as ne,w as m,e as f,i as k,T as H,t as y,P as w,u as ae,r as D,c as x,J as V,j as A,s as ie,H as re,Q as se,a as E,I as F,R as oe,_ as S}from"./index-BwRceJDo.js";import{_ as le}from"./index-BPHchUXj.js";const Qe=e=>{if(!e)return"";const g=new Date(e),p={month:"short",day:"numeric"},b={hour:"numeric",minute:"2-digit",hour12:!0},u=new Intl.DateTimeFormat(void 0,p).format(g),i=new Intl.DateTimeFormat(void 0,b).format(g);return`${u}, ${i}`},de={__name:"index",props:{rows:{type:[Number]},columns:{type:[Number]}},setup(e){return(g,p)=>(s(!0),o(C,null,$(e.rows,b=>(s(),o("tr",{class:"animate-pulse",key:`loader-${b}`},[(s(!0),o(C,null,$(e.columns,u=>(s(),o("td",{class:z(["px-3 py-3",u===2?"w-1/2":""])},p[0]||(p[0]=[r("div",{class:"h-11 bg-zinc-100 dark:bg-zinc-800 rounded-xl"},null,-1)]),2))),256))]))),128))}},ce={class:"relative inline-flex"},ue=["value"],ge={key:0,class:"absolute inset-0 flex flex-col place-content-center pointer-events-none"},he={__name:"index",props:B(["value"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const g=N(e,"modelValue"),p=Z();return(b,u)=>(s(),o("div",ce,[R(r("input",te({type:"checkbox","onUpdate:modelValue":u[0]||(u[0]=i=>g.value=i),value:e.value,class:"appearance-none w-4 h-4 text-indigo-600 bg-zinc-100 border-zinc-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-zinc-800 focus:ring-2 dark:bg-zinc-700 dark:border-zinc-600 checked:bg-indigo-500 border border-zinc-200 dark:border-zinc-700"},ne(p)),null,16,ue),[[ee,g.value]]),d(H,null,{default:m(()=>[g.value.includes(e.value)?(s(),o("div",ge,[d(k,{icon:"tick",class:"text-white mx-auto"})])):f("",!0)]),_:1})]))}},fe={class:"flex flex-col gap-6 items-center p-16 mx-auto w-[460px]"},pe={class:"text-zinc-900 text-3xl text-center font-semibold"},ve={class:"text-zinc-500 text-lg text-center"},ke={class:"place-content-between flex gap-6 flex-row"},be={__name:"index",props:["title","description"],setup(e){return(g,p)=>(s(),o("div",fe,[d(k,{icon:"folder-open",class:"w-24"}),r("span",pe,y(e.title)+" :(",1),r("span",ve,y(e.description),1),r("div",ke,[w(g.$slots,"links")])]))}},me={class:"flex flex-col gap-6"},ye={class:"flex flex-row gap-4 items-center w-full"},xe={class:"flex-grow"},ze={class:"relative max-w-[50%]"},we=["placeholder"],$e={key:0,class:"p-1 rounded-lg border border-zinc-200 dark:border-zinc-700 dark:border-zinc-700 absolute right-2 top-1/2 translate-y-[-50%]"},Ce={class:"flex gap-3 items-center"},Se={class:"max-w-full overflow-x-auto"},_e={class:"text-left font-medium"},De={key:0,class:"font-normal text-zinc-400 w-1 p-4 border-t border-b border-zinc-200 dark:border-zinc-700/80 sticky left-0 bg-white dark:bg-zinc-900 z-[1]"},Be=["onClick"],Me={class:"flex flex-row items-center gap-1"},Te=["innerHTML"],Ve={key:0},Ae={key:0},Ee=["colspan"],Fe={key:"emptydata"},Ne=["colspan"],Re={key:"emptyquery"},He=["colspan"],je={key:2},Pe=["colspan"],Ie=["onContextmenu"],Le=["onClick"],Oe={key:0,class:"flex flex-row gap-6 place-content-between items-center p-4 w-full"},Ue={class:"text-zinc-400 text-sm"},Ge={class:"flex gap-2 items-center"},Ke={class:"text-zinc-400 text-sm"},We={__name:"index",props:B({columns:{default:()=>[],type:Array},data:{default:()=>[],type:Array},rowRightClick:{type:Function},rowClick:{type:Function},pagination:{type:Object},fetching:{type:Boolean},defaultMode:{default:()=>"list",type:String},onlyMode:{type:String},hideSelect:{type:Boolean},hasBorders:{type:Boolean},searchPlaceHolder:{type:String,default:"Search..."},loading:{type:Boolean,default:!1}},{selected:{default:[]},selectedModifiers:{}}),emits:B(["previous","next","search","selected","griddragenter","griddragover","griddragleave","griddrop"],["update:selected"]),setup(e,{expose:g,emit:p}){const b=ae(),u=p,i=e,j=D(i.defaultMode),_=D(!1),c=N(e,"selected"),M=D(null),v=x(()=>i.columns.filter(a=>a.active)),P=x(()=>(i.pagination.page-1)*i.pagination.per_page+1),I=x(()=>{const a=i.pagination.page*i.pagination.per_page;return Math.min(a,i.pagination.total)});V(c,(a,t)=>{u("selected",a)},{deep:!0}),A(()=>{Array.isArray(c.value)||(c.value=[])});const L=(a,t,n)=>{let l=i.hideSelect&&t===0?["group-hover:rounded-l-xl"]:[];return t==v.value.length-1&&l.push("group-hover:rounded-r-xl"),t==v.value.length-1&&c.value.includes(n.id)&&l.push("rounded-r-xl"),i.hasBorders&&(l=[...l,"border-b","border-zinc-200 dark:border-zinc-700"]),t===0&&(l=[...l,"sticky","left-[42px]","z-[1]","group-hover:bg-none","dark:group-hover:bg-none"]),t===0&&c.value.includes(n.id)&&i.hideSelect&&(l=[...l,"group-hover:rounded-l-xl"]),t===0&&!c.value.includes(n.id)&&(l=[...l,"bg-gradient-to-r","from-white","via-white","via-white","via-white","via-white","dark:from-zinc-900","dark:via-zinc-900","dark:via-zinc-900","dark:via-zinc-900","dark:via-zinc-900"]),l.join(" ")},O=a=>{if(i.data.length===c.value.length)c.value=[];else{const t=[];i.data.forEach(n=>{t.push(n.id)}),c.value=t}},U=a=>{let t=a/30;return t=t>.6?.6:t,`${t.toFixed(3)}s`},G=(a,t)=>{i.rowRightClick&&(a.preventDefault(),i.rowRightClick(a,t))},K=(a,t)=>{i.rowClick&&(a.preventDefault(),i.rowClick(a,t))},q=a=>{if(a.width)return`width:${a.width}`},J=a=>{a.sort_key&&(i.pagination.orderby==a.sort_key&&(i.pagination.order=i.pagination.order=="DESC"?"ASC":"DESC"),i.pagination.orderby=a.sort_key,u("search"))},Q=x(()=>j.value),W=x(()=>M.value);return A(()=>{let a=[];_.value=!0;for(let t of c.value){const n=i.data.find(l=>l.id==t);a.push(n)}b.updateState("selected",a),ie(()=>{_.value=!1})}),V(()=>b.state.selected,()=>{if(_.value)return;let a=b.state.selected.map(t=>t.id);c.value=a},{deep:!0}),g({returnMode:Q,returnTable:W}),(a,t)=>(s(),o("div",me,[r("div",ye,[r("div",xe,[r("div",ze,[d(k,{icon:"search",class:"text-zinc-400 absolute left-4 top-1/2 translate-y-[-50%] text-lg"}),R(r("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>e.pagination.search=n),onKeyup:t[1]||(t[1]=se(n=>u("search"),["enter"])),type:"text",class:"py-2 px-0 pl-16 bg-transparent border border-transparent w-full items-center transition-all outline-none focus:outline-none",placeholder:e.searchPlaceHolder},null,40,we),[[re,e.pagination.search]]),d(H,null,{default:m(()=>[e.pagination.search?(s(),o("div",$e,[d(k,{icon:"return",class:"text-zinc-400 text-lg"})])):f("",!0)]),_:1})])]),r("div",Ce,[w(a.$slots,"right-actions")])]),r("div",Se,[r("table",{class:"table-auto w-full border-separate border-spacing-0 wp-list-table",ref_key:"table",ref:M},[r("thead",null,[r("tr",_e,[e.hideSelect?f("",!0):(s(),o("th",De,[d(le,{onClick:O,checked:c.value.length===e.data.length&&!e.loading&&e.data.length>0},null,8,["checked"])])),(s(!0),o(C,null,$(v.value,(n,l)=>(s(),o("th",{key:n.key,class:z(["font-normal text-zinc-400 p-4 border-t border-b border-zinc-200 dark:border-zinc-700 text-sm",[{"sticky left-[42px] z-[1] bg-gradient-to-r from-white via-white via-white via-white via-white dark:from-zinc-900 dark:from-zinc-900 dark:via-zinc-900 dark:via-zinc-900":l===0},{"cursor-pointer hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors":n.sort_key},n.column_classes]]),style:F(q(n)),onClick:h=>J(n)},[w(a.$slots,"head-"+n.key,{column:n},()=>[r("div",Me,[r("span",{innerHTML:n.label,class:z(["whitespace-nowrap transition-colors",n.sort_key&&e.pagination.orderby==n.sort_key?"text-zinc-900 dark:text-zinc-100":""])},null,10,Te),n.sort_key&&e.pagination.orderby==n.sort_key?(s(),E(k,{key:0,icon:e.pagination.order=="DESC"?"arrow_downward":"arrow_upward"},null,8,["icon"])):f("",!0)])])],14,Be))),128))])]),e.fetching?(s(),o("tbody",Ve,[e.hasBorders?f("",!0):(s(),o("tr",Ae,[r("td",{colspan:v.value.length},t[7]||(t[7]=[r("div",{class:"h-4"},null,-1)]),8,Ee)])),d(de,{columns:v.value.length+1,rows:10},null,8,["columns"])])):(s(),E(oe,{key:1,tag:"tbody",name:"tableitem",css:!1},{default:m(()=>[!e.data.length&&!e.pagination.search.length&&!e.fetching?(s(),o("tr",Fe,[r("td",{colspan:v.value.length},[w(a.$slots,"empty")],8,Ne)])):f("",!0),!e.data.length&&e.pagination.search.length&&!e.fetching?(s(),o("tr",Re,[r("td",{colspan:v.value.length},[d(be,{title:"Nothing found",description:`Nothing found for search term: '${e.pagination.search}'`},null,8,["description"])],8,He)])):f("",!0),e.hasBorders?f("",!0):(s(),o("tr",je,[r("td",{colspan:v.value.length},t[8]||(t[8]=[r("div",{class:"h-4"},null,-1)]),8,Pe)])),(s(!0),o(C,null,$(e.data,(n,l)=>(s(),o("tr",{key:n.id?n.id:l,style:F(`transition-delay:${U(l)}`),onContextmenu:h=>G(h,l),class:"group"},[e.hideSelect?f("",!0):(s(),o("td",{key:0,class:z(["px-4 py-3 group-hover:bg-zinc-100 dark:group-hover:bg-zinc-800 transition-all cursor-pointer group-hover:rounded-l-xl sticky left-0 z-[1] bg-white border-b border-zinc-100 dark:border-zinc-800",c.value.includes(n.id)?"bg-zinc-100 dark:bg-zinc-800 rounded-l-xl":"dark:bg-zinc-900"])},[d(he,{value:n.id,modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=h=>c.value=h)},null,8,["value","modelValue"])],2)),(s(!0),o(C,null,$(v.value,(h,X)=>{var T;return s(),o("td",{onClick:Y=>K(Y,l),class:z(["px-4 py-3 group-hover:bg-zinc-100 dark:group-hover:bg-zinc-800 transition-all cursor-pointer border-b border-zinc-100 dark:border-zinc-800",[`${L(h,X,n)} ${h.classes} ${(T=n==null?void 0:n.cell_classes)==null?void 0:T[h.key].join(" ")}`,c.value.includes(n.id)?"bg-zinc-100 dark:bg-zinc-800":""]]),key:h.key},[w(a.$slots,"row-"+h.key,{row:n,index:l})],10,Le)}),128))],44,Ie))),128))]),_:3}))],512)]),e.pagination&&e.data.length&&e.pagination.pages>1?(s(),o("div",Oe,[r("span",Ue,y(P.value)+" - "+y(I.value)+" of "+y(e.pagination.total),1),r("div",Ge,[r("span",Ke,y(e.pagination.page)+" of "+y(e.pagination.pages),1),d(S,{disabled:e.pagination.page===1,onClick:t[3]||(t[3]=n=>u("first")),type:"transparent"},{default:m(()=>[d(k,{icon:"first_page"})]),_:1},8,["disabled"]),d(S,{disabled:e.pagination.page===1,onClick:t[4]||(t[4]=n=>u("previous")),type:"transparent"},{default:m(()=>[d(k,{icon:"chevron_left"})]),_:1},8,["disabled"]),d(S,{onClick:t[5]||(t[5]=n=>u("next")),disabled:e.pagination.page===e.pagination.pages,type:"transparent"},{default:m(()=>[d(k,{icon:"chevron_right"})]),_:1},8,["disabled"]),d(S,{disabled:e.pagination.page===e.pagination.pages,onClick:t[6]||(t[6]=n=>u("last")),type:"transparent"},{default:m(()=>[d(k,{icon:"last_page"})]),_:1},8,["disabled"])])])):f("",!0)]))}};export{We as _,Qe as f};
//# sourceMappingURL=index-ao0OFfwa.js.map
