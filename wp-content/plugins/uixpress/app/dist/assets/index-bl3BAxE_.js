import{r as a,d as k,e as y,b as h,P as g,C,I as E}from"./index-BwRceJDo.js";const O={__name:"index",props:{teleport:{type:Boolean,required:!1,default:!1},offsetY:{type:Number,required:!1,default:0},offsetX:{type:Number,required:!1,default:0}},setup(d,{expose:f}){const c=d,o=a(!1),s=a(null),t=a({y:0,x:0}),m=async(e,n)=>{const l=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(l);let r={clientX:e.clientX,clientY:e.clientY};n&&(r=n),t.value.x=r.clientX+c.offsetX,t.value.y=r.clientY+c.offsetY,o.value=!0,requestAnimationFrame(()=>{o.value&&(x(),v())})},v=()=>{let e=s.value.getBoundingClientRect(),n=e.bottom,l=e.right,r=e.left;n>window.innerHeight&&(t.value.y=t.value.y-(n-window.innerHeight)-20),l>window.innerWidth&&(t.value.x=t.value.x-(l-window.innerWidth)-40),r<0&&(t.value.x=32)},u=()=>{b(),o.value=!1},p=()=>o.value,x=()=>{document.addEventListener("click",i),document.addEventListener("contextmenu",i)},b=()=>{document.removeEventListener("click",i),document.removeEventListener("contextmenu",i)},i=e=>{if(!s.value||!s.value.contains(e.target))return u()},w=()=>`top: ${t.value.y}px; left: ${t.value.x}px;`;return f({show:m,close:u,isOpen:p}),(e,n)=>o.value?(h(),k("div",{key:0,ref_key:"contextmenu",ref:s,style:E(w()),onClick:n[0]||(n[0]=C(()=>{},["prevent","stop"])),class:"bg-white dark:bg-zinc-900 z-[9999] shadow-sm rounded-xl border border-zinc-600/10 dark:border-zinc-800 p-3 fixed text-sm"},[g(e.$slots,"default")],4)):y("",!0)}};export{O as _};
//# sourceMappingURL=index-bl3BAxE_.js.map
