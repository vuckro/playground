import{r as i,u as w,c as h,j as L,o as E,a as m,b as l,w as g,g as N,d as x,e as P,n as f,m as d,h as V,k as y,q as B,F as M,f as R,S as j,v as q,x as F}from"./assets/index-BwRceJDo.js";import{T as $,s as D}from"./assets/index-XtsS54p_.js";import"./assets/returnIconOverrides-ClaXUxKe.js";import{s as G,u as H}from"./assets/useColorScheme-Bb6NuE_1.js";import{h as _}from"./assets/hexToRgb-v71kCAmo.js";import{i as U}from"./assets/isObject-CInHxCpH.js";import"./assets/index-bl3BAxE_.js";import"./assets/vue-router-crEbtjCJ.js";import"./assets/inSearch-uRPV3sBV.js";import"./assets/index-CNUiajaY.js";import"./assets/vue-draggable-next.esm-bundler-CrilaFAU.js";import"./assets/index-B7jFWQV3.js";const I=["id","href"],O={__name:"index",setup(t){G();const{prefersDark:c}=H(),u=i(new CSSStyleSheet);i(!0),i(!1),i(null),i(null);const a=w(),z=()=>{const s=document.querySelector("#uixpress-frontend-css").sheet;for(const n of[...s.cssRules].reverse())u.value.insertRule(n.cssText);k();let o=document.querySelector("#uix-temp-style");o&&o.remove()},A=h(()=>{var e;return((e=a.state.uixpress_settings)==null?void 0:e.custom_css)||""});h(()=>{var e;return(e=a.state.uixpress_settings)==null?void 0:e.layout});const k=()=>{if(Array.isArray(a.state.uixpress_settings.base_theme_scale)){const e=a.state.uixpress_settings.base_theme_scale;for(let s of e){const o=_(s.color),n=`--uix-base-${s.step}`;document.documentElement.style.setProperty(n,o.join(" "))}}if(Array.isArray(a.state.uixpress_settings.accent_theme_scale)){const e=a.state.uixpress_settings.accent_theme_scale;for(let s of e){const o=_(s.color),n=`--uix-accent-${s.step}`;document.documentElement.style.setProperty(n,o.join(" "))}}},T=async()=>{if(!document.startViewTransition)return;let e=!1;window.navigation.addEventListener("navigate",s=>{const o=new URL(s.destination.url);location.origin===o.origin&&(s.navigationType==="reload"||s.navigationType==="replace"||e||o&&o.hash||(a.updateState("loading",!0),setTimeout(()=>{a.updateState("loading",!1)},5e3)))})};return L(()=>{c.value?document.body.classList.add("dark"):document.body.classList.remove("dark")}),document.body.classList.add("uipc-body"),z(),E(T),window.addEventListener("pagehide",e=>{a.updateState("loading",!1)}),document.addEventListener("uipx-settings-update",e=>{U(e.detail)&&(a.state.uixpress_settings={...a.state.uixpress_settings,...e.detail})}),(e,s)=>(l(),m(d(j),{tag:"div","adopted-style-sheets":[u.value],class:f(e.toolbarContainerClasses),style:{"font-size":"14px"}},{default:g(()=>[N("div",{class:f(["bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-700 uipx-normalize absolute left-0 top-0 right-0 text-base text-zinc-700 dark:text-zinc-300",d(c)?"dark":""]),style:{"z-index":"99999"}},[(l(),m(y("style"),{innerHTML:A.value},null,8,["innerHTML"])),V($,{class:f(e.toolbarClasses),id:"uixp-toolbar",frontend:!0},null,8,["class"])],2),(l(),m(y("style"),null,{default:g(()=>s[0]||(s[0]=[B(" :host, :root { font-size: 32px; line-height: 1.5; font-family: Arial, sans-serif;} ```css :host .text-xs { font-size: 0.75em; line-height: 1em; } :host .text-sm { font-size: 0.875em; line-height: 1.25em; } :host .text-base { font-size: 1em; line-height: 1.5em; } :host .text-lg { font-size: 1.125em; line-height: 1.75em; } :host .text-xl { font-size: 1.25em; line-height: 1.75em; } :host .text-2xl { font-size: 1.5em; line-height: 2em; } :host .text-3xl { font-size: 1.875em; line-height: 2.25em; } ``` ")])),_:1,__:[0]})),Array.isArray(d(a).state.uixpress_settings.external_stylesheets)?(l(!0),x(M,{key:0},R(d(a).state.uixpress_settings.external_stylesheets,(o,n)=>(l(),x("link",{rel:"stylesheet",id:`uix-external-${n}-css`,href:o,media:"all"},null,8,I))),256)):P("",!0)]),_:1},8,["adopted-style-sheets","class"]))}},p=q(O),J=F();p.use(J);const r=w();D(r);let v=new Map;r&&r.state&&r.state.uixpress_settings&&Array.isArray(r.state.uixpress_settings.text_replacements)&&(v=new Map(r.state.uixpress_settings.text_replacements.filter(t=>Array.isArray(t)&&t.length===2&&typeof t[0]=="string"&&typeof t[1]=="string").map(t=>[t[0],t[1]])));const K=window.wp.i18n.__,C=(t,c)=>{let u=v.get(t)||t;return K(u,c)};window.__=C;p.config.globalProperties.__=C;p.config.globalProperties.sprintf=window.wp.i18n.sprintf;const b=document.getElementById("uipx-favicon");b&&document.getElementsByTagName("head")[0].appendChild(b);const S=document.querySelector("#wpadminbar");if(S){const t=document.createElement("div");t.id="uip-classic-app",S.appendChild(t),p.mount(t)}
//# sourceMappingURL=frontend.build.DYalwgTj.js.map
