import{r as f,o as je,y as Be,u as ne,M as Ee,d as x,b as u,a as $,h as l,w as c,q as b,k as se,g as s,n as P,m as R,S as He,F as N,J as ce,j as ke,t as i,i as j,_ as S,e as V,l as X,L as O,A as Fe,f as de,D as qe,c as le,I as Je,C as Ge,T as re,G as We,N as Xe,s as be,O as he,v as Ye,x as Qe}from"./assets/index-BwRceJDo.js";import{u as Se,a as Ce,c as Ke,b as Ze}from"./assets/vue-router-crEbtjCJ.js";import{N as et,L as tt}from"./assets/index-BzwQcq11.js";import{p as Ve,r as st}from"./assets/returnIconOverrides-ClaXUxKe.js";import{f as nt,_ as at}from"./assets/index-ao0OFfwa.js";import{r as ot,_ as it}from"./assets/index-T7YrQ70S.js";import{_ as lt,a as ye}from"./assets/index-BAInzG_7.js";import{V as ze}from"./assets/vue-draggable-next.esm-bundler-CrilaFAU.js";import{_ as rt}from"./assets/index-B3EPg5XS.js";import{_ as W,a as te}from"./assets/index-De0QlMdc.js";import{i as ut}from"./assets/inSearch-uRPV3sBV.js";import{_ as ct}from"./assets/index-bl3BAxE_.js";import{i as ue}from"./assets/isObject-CInHxCpH.js";import"./assets/index-BPHchUXj.js";import"./assets/index-CNUiajaY.js";function dt(){const B=f(!1);let _=null;const h=()=>{B.value=document.body.classList.contains("dark")};return je(()=>{h(),_=new MutationObserver(k=>{k.forEach(y=>{y.type==="attributes"&&y.attributeName==="class"&&h()})}),_.observe(document.body,{attributes:!0,attributeFilter:["class"]})}),Be(()=>{_&&_.disconnect()}),{isDark:B}}const pt={class:"translate-x-0"},mt={__name:"index",setup(B){ne();const{isDark:_}=dt(),h=f(new CSSStyleSheet);return f(!1),f(),(()=>{const v=document.querySelector("#uixpress-menu-creator-css").sheet;for(const z of[...v.cssRules].reverse())h.value.insertRule(z.cssText)})(),(y,v)=>{const z=Ee("RouterView");return u(),x(N,null,[(u(),$(se("style"),null,{default:c(()=>v[0]||(v[0]=[b(" html{font-size:14px;}#wpcontent{padding:0}")])),_:1,__:[0]})),l(R(He),{tag:"div","adopted-style-sheets":[h.value],class:"uipx-normalize"},{default:c(()=>[(u(),$(se("style"),null,{default:c(()=>v[1]||(v[1]=[b(" :root{font-size:14px}#wpcontent{padding:0}")])),_:1,__:[1]})),s("div",{class:P(["bg-white dark:bg-zinc-900 bg-gray-100 h-screen uipx-normalize font-sans",R(_)?"dark":""])},[l(et),s("div",pt,[l(R(tt),{height:3})]),l(z)],2)]),_:1},8,["adopted-style-sheets"])],64)}}},ft={class:"p-6"},_t={class:"flex flex-row gap-3 items-stretch"},vt={class:"flex flex-col gap-4 p-12 items-center"},xt={class:"font-bold text-xl text-zinc-900 dark:text-zinc-100"},gt={class:"text-zinc-400"},wt=["innerHTML"],bt={class:"inline-flex text-zinc-900 dark:text-zinc-100 font-semibold"},ht={class:"inline-flex text-zinc-500"},yt={class:"inline-flex"},zt={class:"inline-flex text-sm truncate"},kt={__name:"table",setup(B){const _=ne(),h=f([{key:"name",label:(0,window.wp.i18n.__)("Name","uixpress"),active:!0,sort_key:"title"},{key:"status",label:(0,window.wp.i18n.__)("Status","uixpress"),active:!0},{key:"modified",label:(0,window.wp.i18n.__)("Modified","uixpress"),active:!0,sort_key:"date"},{key:"id",label:(0,window.wp.i18n.__)("ID","uixpress"),active:!0,sort_key:"id"}]);(0,window.wp.i18n.__)("All","uixpress"),(0,window.wp.i18n.__)("Published","uixpress"),(0,window.wp.i18n.__)("Draft","uixpress");const k=f(!1),y=f([]),v=f(!1),z=f([]),A=f([]),C=Se(),a=Ce(),d=f({search:"",per_page:15,page:1,pages:0,total:0,status:"any",order:"desc",orderby:"date",context:"edit"}),w=async p=>{_.updateState("loading",!0),p||(k.value=!0);const g={endpoint:"wp/v2/uipxmenus",params:d.value},m=await X(g);_.updateState("loading",!1),k.value=!1,m&&(A.value=m.data,d.value.pages=m.totalPages,d.value.total=m.totalItems,K())},T=async()=>{_.updateState("loading",!0),v.value=!0;const p=[...y.value],g=(0,window.wp.i18n.__)("Draft menu","uiXpress")+` (${d.value.total})`,F=await X({endpoint:"wp/v2/uipxmenus",params:{},data:{title:g,meta:{menu_items:p,menu_settings:{}}},type:"POST"});_.updateState("loading",!1),v.value=!1,F&&(w(!0),O({type:"success",title:(0,window.wp.i18n.__)("Menu created","uixpress")}),C.push({name:"menu-editor",params:{menuid:F.data.id}}))},E=()=>{d.value.page=1,w(!0)},H=()=>{d.value.page>1&&(d.value.page--,w(!0))},r=()=>{d.value.page<d.value.pages&&(d.value.page++,w(!0))},Q=()=>{d.value.page=d.value.pages,w(!0)},ae=(p,g)=>{const m=A.value[g];m&&C.push({name:"menu-editor",params:{menuid:m.id}})},oe=p=>p=="publish"?(0,window.wp.i18n.__)("Published","uixpress"):p=="draft"?(0,window.wp.i18n.__)("Draft","uixpress"):p,ie=async()=>{const p=document.querySelector("#adminmenumain"),{processedMenu:g}=await Ve(p);y.value=g},K=()=>{const p=`uixpress_menu_${_.state.userID}`;localStorage.removeItem(p)};return ce(()=>d.value.search,(p,g)=>{!p&&g&&w()}),ke(()=>{if(a.query.refresh){w(!0),a.query.refresh=0;const p={...a.query};delete p.refresh,C.push({query:p})}}),w(),ie(),(p,g)=>(u(),x("div",ft,[l(at,{pagination:d.value,columns:h.value,data:A.value,fetching:k.value,searchPlaceHolder:p.__("Search menus","uixpress"),rowClick:ae,onSelected:g[2]||(g[2]=m=>z.value=m),onSearch:w,onPrevious:H,onNext:r,onFirst:E,onLast:Q},{"right-actions":c(()=>[s("div",_t,[z.value.length?(u(),$(it,{key:0,modelValue:z.value,"onUpdate:modelValue":g[0]||(g[0]=m=>z.value=m),onUpdated:g[1]||(g[1]=m=>w(!0)),route:"wp/v2/uipxmenus"},null,8,["modelValue"])):V("",!0),l(S,{type:"primary",onClick:T,loading:v.value,class:"text-sm"},{default:c(()=>[b(i(p.__("New menu","uixpress")),1)]),_:1},8,["loading"])])]),empty:c(()=>[s("div",vt,[l(j,{icon:"folder_open",style:{"font-size":"60px"}}),s("div",xt,i(p.__("No menus yet","uixpress")),1),s("div",gt,i(p.__("When you create new menus they will show up here.","uixpress")),1),l(S,{type:"primary",class:"mt-4",onClick:T,loading:v.value},{default:c(()=>[b(i(p.__("New menu","uixpress")),1)]),_:1},8,["loading"])])]),"row-name":c(({row:m})=>[s("div",{class:"inline-flex text-zinc-900 dark:text-zinc-100 font-semibold",innerHTML:m.title.rendered},null,8,wt)]),"row-code":c(({row:m})=>[s("div",bt,i(m.code),1)]),"row-status":c(({row:m})=>[s("div",ht,[l(lt,{class:"text-sm",status:R(ot)(m.status),text:oe(m.status)},null,8,["status","text"])])]),"row-modified":c(({row:m})=>[s("div",yt,i(R(nt)(m.modified)),1)]),"row-id":c(({row:m})=>[s("div",zt,i(m.id),1)]),_:1},8,["pagination","columns","data","fetching","searchPlaceHolder"])]))}},St={class:"w-[260px] grid grid-cols-5 gap-4 max-h-[400px] overflow-auto"},Ct={class:"col-span-5 text-sm p-2"},Vt={key:0,class:"w-full flex flex-col items-center"},$t={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(B){const _=Fe(B,"modelValue"),h=f(null),k=f(null),y=f(""),v=C=>{const d=k.value.getBoundingClientRect();return{clientX:d.left,clientY:d.bottom}},z=C=>{_.value=C,h.value.close()},A=["grid","search","list","information","user","person","home","logout","pb-logo-fill","github","north_east","sparkles","pb-logo-lines","lock","link","cloud_upload","at","return","bolt","layers","arrow_up","tif-svgrepo-com","dashboard","chevron_right","tick","chevron_left","close-pane","open-pane","warning","sites","add","close","more_horiz","pages","copy","refresh","folder-open-2","image","save","align-arrow-up","sidebar","arrow_down","photos","redo","google","trash","gif-svgrepo-com","edit","credit-card","delete","command","reorder","gift","png-file-type-svgrepo-com","sort","undo","filter","jpeg-svgrepo-com","tune","error","logo","pdf-svgrepo-com","unfold","bmp-file-format-symbol-svgrepo-com","open_new","users","moon"];return(C,a)=>(u(),x(N,null,[s("div",{ref_key:"trigger",ref:k,onClick:a[0]||(a[0]=d=>h.value.show(d,v())),class:"p-2 border border-zinc-200 dark:border-zinc-700 rounded-lg transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 focus:shadow-xs"},[l(j,{icon:_.value?_.value:"home",class:P(["text-xl",_.value?"":"opacity-50"])},null,8,["icon","class"])],512),l(ct,{ref_key:"contextmenu",ref:h},{default:c(()=>[s("div",St,[s("div",Ct,[l(W,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=d=>y.value=d),type:"text",placeholder:C.__("Search icons","uixpress")},null,8,["modelValue","placeholder"])]),(u(),x(N,null,de(A,d=>(u(),x(N,null,[R(ut)(y.value,d)?(u(),x("div",Vt,[l(S,{onClick:w=>z(d),type:"transparent"},{default:c(()=>[l(j,{icon:d,class:"text-2xl"},null,8,["icon"])]),_:2},1032,["onClick"])])):V("",!0)],64))),64))])]),_:1},512)],64))}},Mt={class:"w-full max-w-full flex flex flex-col h-full"},Lt={class:"border-b border-zinc-200 dark:border-zinc-800 p-3 px-10 pr-6 w-full flex flex-row items-center place-content-between sticky top-0 bg-white dark:bg-zinc-900 z-[1]"},It={class:"flex flex-row items-center gap-2"},Nt={class:"grow flex flex-row"},Ut={class:"w-1/3 max-w-[300px] border-r border-zinc-200 dark:border-zinc-800 p-6 h-full shrink-0"},Dt={class:"flex flex-col gap-3 mb-6"},At={class:"relative grow overflow-hidden flex"},Tt=["onClick"],Pt={class:"absolute px-4 left-0"},Rt={class:"pl-12 group-hover:text-zinc-950 dark:group-hover:text-zinc-100 transition-color flex-grow text-base grow truncate flex flex-row items-center gap-4"},Ot=["innerHTML"],jt=["onClick"],Bt=["innerHTML"],Et=["onClick"],Ht=["onClick"],Ft={class:"grow p-6"},qt={key:0,class:"grid grid-cols-3 gap-12 p-6"},Jt={class:"flex flex-row place-content-between col-span-3"},Gt={class:"text-2xl font-semibold text-zinc-900 dark:text-zinc-100"},Wt={class:"flex flex-col pt-2 gap-2"},Xt={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},Yt={class:"text-zinc-500 dark:text-zinc-400"},Qt={class:"col-span-2 flex flex-col"},Kt={class:"flex flex-col pt-2 gap-2"},Zt={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},es={class:"text-zinc-500 dark:text-zinc-400"},ts={class:"col-span-2 flex flex-col"},ss={class:"flex flex-col pt-2 gap-2"},ns={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},as={class:"text-zinc-500 dark:text-zinc-400"},os={class:"col-span-2 flex flex-col"},is={class:"grid grid-cols-3 gap-12 col-span-3"},ls={class:"flex flex-col pt-2 gap-2"},rs={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},us={class:"text-zinc-500 dark:text-zinc-400"},cs={class:"col-span-2 flex flex-col"},ds={class:"flex flex-col pt-2 gap-2"},ps={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},ms={class:"text-zinc-500 dark:text-zinc-400"},fs={class:"col-span-2 flex flex-col"},_s={key:1,class:"grid grid-cols-3 gap-12 p-6"},vs={class:"flex flex-row col-span-3 items-center gap-3"},xs={class:"flex flex-col grow"},gs=["innerHTML"],ws={class:"text-zinc-500 dark:text-zinc-400"},bs={class:"flex flex-col pt-2 gap-2"},hs={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},ys={class:"text-zinc-500 dark:text-zinc-400"},zs={class:"col-span-2 flex flex-col"},ks={class:"flex flex-col pt-2 gap-2"},Ss={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},Cs={class:"text-zinc-500 dark:text-zinc-400"},Vs={class:"col-span-2 flex flex-col"},$s={class:"flex flex-col pt-2 gap-2"},Ms={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},Ls={class:"text-zinc-500 dark:text-zinc-400"},Is={class:"col-span-2 flex flex-col"},Ns={class:"max-w-[300px] flex flex-row gap-3"},Us={class:"flex flex-col pt-2 gap-2"},Ds={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},As={class:"text-zinc-500 dark:text-zinc-400"},Ts={class:"col-span-2 flex flex-col"},Ps={class:"flex flex-col pt-2 gap-2"},Rs={class:"text-zinc-900 dark:text-zinc-100 font-semibold"},Os={class:"text-zinc-500 dark:text-zinc-400"},js={class:"col-span-2 flex flex-col"},Bs={__name:"edit",setup(B){const _=ne(),h=Ce(),k=f(null),y=Se(),v=f([]),z=f([]),A=h.params.menuid,C=f(!1),a=f(!1),d=f({context:"edit"}),w=f(!1),T=f(!1),E=f(!1),H=f(!1),r=f(!1),Q=f(null),ae={draft:{value:"draft",label:(0,window.wp.i18n.__)("Draft","uixpress")},publish:{value:"publish",label:(0,window.wp.i18n.__)("Active","uixpress")}},oe=async t=>{_.updateState("loading",!0),T.value=!1,C.value=!0;const e={endpoint:`wp/v2/uipxmenus/${A}`,params:d.value},n=await X(e);_.updateState("loading",!1),C.value=!1,n&&(a.value=n.data,ie(),be(()=>{T.value=!0}))},ie=()=>{a.value.meta.menu_items=a.value.meta.menu_items.filter(t=>p(t.id)||t.custom).map(t=>({...t,active:!1,open:!1}));for(let t of a.value.meta.menu_items)t.type!="separator"&&(Array.isArray(t.submenu)||(t.submenu=[]),t.submenu=t.submenu.filter(e=>p(e.id)||e.custom).map(e=>({...e,submenu:[],active:!1,open:!1})));for(let[t,e]of v.value.entries())if(K(e.id)||a.value.meta.menu_items.splice(t,0,e),!!e.submenu)for(let[n,o]of e.submenu.entries()){if(K(o.id))continue;const M=a.value.meta.menu_items.find(L=>L.id==e.id);M?M.submenu.splice(n,0,o):(e.submenu=[o],a.value.meta.menu_items.splice(t,0,e))}},K=t=>{const e=a.value.meta.menu_items.find(o=>o.id==t),n=Ie.value.find(o=>o.id==t);return e||n},p=t=>{const e=v.value.find(o=>o.id==t),n=_e.value.find(o=>o.id==t);return e||n},g=async()=>{w.value=!0,T.value=!1;const t={};E.value&&(t.menu_items=[...a.value.meta.menu_items]),H.value&&(t.menu_settings={...a.value.meta.menu_settings});const e={endpoint:`wp/v2/uipxmenus/${A}`,params:{context:"edit"},type:"POST",data:{title:a.value.title.raw,status:a.value.status,meta:t}},n=await X(e);w.value=!1,n&&(O({type:"success",title:(0,window.wp.i18n.__)("Menu updated","uixpress")}),be(()=>{E.value=!1,H.value=!1,T.value=!0}),F())},m=async()=>{if(!await k.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Deleted menus cannot be retrieved.","uixpress"),okButton:(0,window.wp.i18n.__)("Yes delete it","uixpress")}))return;const e={endpoint:`wp/v2/uipxmenus/${A}`,params:{force:!0},type:"DELETE"};await X(e)&&(F(),fe(),O({title:(0,window.wp.i18n.__)("Menu deleted","uixpress"),type:"success"}))},F=()=>{const t=`uixpress_menu_${_.state.userID}`;localStorage.removeItem(t)};ke(()=>{a.value.rating>5&&(a.value.rating=5),a.value.rating<0&&(a.value.rating=0)});const fe=async()=>{await y.push({path:"/",query:{refresh:1}})},$e=()=>{r.value=!1},Me=le(()=>z.value.map(t=>`
	.${t.class}:before {
	  content: '${t.before}';
	  height: 1.2rem;
	  width: 1.2rem;
	  min-height: 1.2rem;
	  min-width: 1.2rem;
	  color: currentColor;
	  font-size: 1.2rem;
	  ${t.font?`font-family: '${t.font}' !important;`:""}
	}
  `).join(`
`)),Le=async()=>{const t=document.querySelector("#adminmenumain"),{processedMenu:e,dashIcons:n}=await Ve(t);v.value=e,z.value=n},Z=t=>ue(r.value)?r.value.id===t.id:!1,ee=t=>{ue(t.settings)||(t.settings={}),r.value=t},Ie=le(()=>a.value.meta.menu_items.reduce((t,e)=>(Array.isArray(e.submenu)&&t.push(...e.submenu),t),[])),_e=le(()=>v.value.reduce((t,e)=>(Array.isArray(e.submenu)&&t.push(...e.submenu),t),[])),Ne=()=>{const t=r.value.id;r.value;const e=v.value.find(o=>o.id==t);if(e){r.value.name=e.name,r.value.url=e.url,r.value.settings={};return}const n=_e.value.find(o=>o.id==t);n&&(r.value.name=n.name,r.value.url=n.url,r.value.settings={})},Ue=()=>{const t=r.value.id,e=a.value.meta.menu_items.findIndex(n=>n.id==t);if(e>=0){a.value.meta.menu_items.splice(e,1),r.value=!1;return}for(let n of a.value.meta.menu_items)if(n.submenu){for(let[o,M]of n.submenu.entries())if(M.id==t){n.submenu.splice(o,1),r.value=!1;break}}},De=()=>{var t,e;(e=(t=a.value)==null?void 0:t.meta)==null||e.menu_items.splice(0,0,{name:"",url:"",custom:!0,id:he(),submenu:[],settings:{icon:"link",name:(0,window.wp.i18n.__)("Custom menu item","uixpress")}})},Ae=()=>{var t,e;(e=(t=a.value)==null?void 0:t.meta)==null||e.menu_items.splice(0,0,{name:"",url:"",type:"separator",custom:!0,id:he(),settings:{name:(0,window.wp.i18n.__)("Custom Separator","uixpress")}})},Te=()=>{var q,J,G;const t=(q=a.value)==null?void 0:q.meta,e=(G=(J=a.value)==null?void 0:J.title)==null?void 0:G.raw;if(!t||!e)return;const n=JSON.stringify({menu_meta:t,menu_title:e},null,2),o=new Blob([n],{type:"application/json"}),M=URL.createObjectURL(o),L=document.createElement("a");L.href=M,L.download=`${e}.json`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(M)},Pe=async t=>{var e;try{if(!t||!(t instanceof File)){O({type:"error",title:(0,window.wp.i18n.__)("Please provide a valid JSON file","uixpress")});return}const n=await t.text(),o=JSON.parse(n);if(!o.menu_title||!o.menu_meta){O({type:"error",title:(0,window.wp.i18n.__)("Invalid menu_meta: must be an object","uixpress")});return}if(typeof o.menu_meta!="object"||o.menu_meta===null){O({type:"error",title:(0,window.wp.i18n.__)("Invalid menu_meta: must be an object","uixpress")});return}return a.value={...a.value,title:{...(e=a.value)==null?void 0:e.title,raw:o.menu_title},meta:o.menu_meta},!0}catch(n){throw O({type:"error",title:(0,window.wp.i18n.__)("Error uploading menu","uixpress")}),n}},Re=async t=>{const e=t.target.files[0];try{await Pe(e),O({type:"success",title:(0,window.wp.i18n.__)("Menu imported","uixpress")})}catch{}};return ce(()=>{var t,e;return(e=(t=a.value)==null?void 0:t.meta)==null?void 0:e.menu_items},(t,e)=>{!T.value||!e||(E.value=!0)},{deep:!0}),ce(()=>{var t,e;return(e=(t=a.value)==null?void 0:t.meta)==null?void 0:e.menu_settings},()=>{ue(a.value.meta.menu_settings)||(a.value.meta.menu_settings={}),T.value&&(H.value=!0)},{deep:!0}),oe(),Le(),(t,e)=>(u(),x(N,null,[s("div",Mt,[s("div",Lt,[s("div",null,[s("a",{class:"flex flex-row gap-4 items-center text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",onClick:fe},[l(j,{icon:"chevron_left",class:"text-xl"}),s("span",null,i(t.__("Back to list","uixpress")),1)])]),s("div",It,[l(S,{type:"danger",class:"text-sm",onClick:m,icon:"delete"},{default:c(()=>[b(i(t.__("Delete","uixpress")),1)]),_:1}),l(S,{type:"default",class:"text-sm",onClick:Te,icon:"download"},{default:c(()=>[b(i(t.__("Export","uixpress")),1)]),_:1}),l(S,{type:"default",class:"text-sm",onClick:e[0]||(e[0]=n=>Q.value.click()),icon:"upload"},{default:c(()=>[s("span",null,[b(i(t.__("Import","uixpress"))+" ",1),s("input",{type:"file",accept:".json",onChange:Re,class:"hidden",ref_key:"menuUploader",ref:Q},null,544)])]),_:1}),l(S,{type:"default",class:"text-sm",onClick:$e,icon:"tune"},{default:c(()=>[b(i(t.__("Settings","uixpress")),1)]),_:1}),l(S,{type:"primary",class:"text-sm",loading:w.value,onClick:g,icon:"save"},{default:c(()=>[b(i(t.__("Update","uixpress")),1)]),_:1},8,["loading"])])]),s("div",Nt,[a.value?(u(),x(N,{key:0},[(u(),$(se("style"),null,{default:c(()=>[b(i(R(st)),1)]),_:1})),(u(),$(se("style"),null,{default:c(()=>[b(i(Me.value),1)]),_:1})),s("div",Ut,[s("div",Dt,[l(S,{type:"default",onClick:Ae},{default:c(()=>[b(i(t.__("New Separator","uixpress")),1)]),_:1}),l(S,{type:"default",onClick:De},{default:c(()=>[b(i(t.__("New Link","uixpress")),1)]),_:1})]),s("div",At,[l(R(ze),{class:"flex flex-col grow gap-1 grow overflow-auto pb-16",group:{name:"menus",pull:!0,put:!0,revertClone:!1},list:a.value.meta.menu_items,animation:"300",sort:!0},{default:c(()=>[(u(!0),x(N,null,de(a.value.meta.menu_items,(n,o)=>{var M,L,q,J,G,ve;return u(),x(N,{key:o},[n.type!="separator"?(u(),x("div",{key:0,class:P((M=n.settings)!=null&&M.hidden?"opacity-30 line-through":"")},[s("div",{class:P(["flex flex-row p-1 pr-4 pl-1 rounded-lg items-center cursor-pointer gap-1 group transition-all relative hover:bg-zinc-100 hover:dark:bg-zinc-800",Z(n)?"text-zinc-900 dark:text-zinc-100 active bg-zinc-100 dark:bg-zinc-800 active":" hover:bg-zinc-100 hover:dark:bg-zinc-800"]),onClick:I=>ee(n)},[s("div",Pt,[(L=n.settings)!=null&&L.icon?(u(),$(j,{key:1,icon:n.settings.icon,class:"text-xl text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-zinc-100 group-[.active]:text-zinc-900 dark:group-[.active]:text-zinc-100"},null,8,["icon"])):(u(),x("div",{key:0,class:P(["icon text-2xl text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-zinc-100 group-[.active]:text-zinc-900 dark:group-[.active]:text-zinc-100 w-[1.2rem]",n.imageClasses]),style:Je(n.iconStyles)},null,6))]),s("div",Rt,[s("div",{innerHTML:((q=n.settings)==null?void 0:q.name)||n.name,class:"truncate"},null,8,Ot)]),n.submenu?(u(),$(j,{key:0,icon:n.open?"expand_more":"chevron_left",class:"opacity-0 group-hover:opacity-100 text-base transition-opacity",onClick:Ge(I=>n.open=!n.open,["prevent","stop"])},null,8,["icon","onClick"])):V("",!0),(J=n.settings)!=null&&J.open_new?(u(),$(j,{key:1,icon:"open_new",class:"opacity-0 group-hover:opacity-100 text-base transition-opacity"})):V("",!0)],10,Tt),l(re,null,{default:c(()=>[n.open?(u(),$(R(ze),{key:0,class:"mt-2 mb-4 pl-1",group:{name:"menus",pull:!0,put:!0,revertClone:!1},list:n.submenu,animation:"300",sort:!0},{default:c(()=>[(u(!0),x(N,null,de(n.submenu,(I,Oe)=>{var xe,ge,we;return u(),x("div",{key:Oe,class:P(["flex flex-row p-1 px-4 pl-12 rounded-lg items-center cursor-pointer gap-4 group transition-all hover:bg-zinc-100 hover:dark:bg-zinc-800",Z(I)?"text-zinc-900 dark:text-zinc-100 active bg-zinc-100 dark:bg-zinc-800 active":" hover:bg-zinc-100 hover:dark:bg-zinc-800"]),onClick:en=>ee(I)},[s("div",{class:P(["group-hover:text-zinc-950 dark:group-hover:text-zinc-100 transition-color flex-grow text-base grow truncate flex flex-row items-center gap-4",(xe=I.settings)!=null&&xe.hidden?"opacity-30 line-through":""])},[s("div",{innerHTML:((ge=I.settings)==null?void 0:ge.name)||I.name,class:"truncate grow"},null,8,Bt),(we=I.settings)!=null&&we.open_new?(u(),$(j,{key:0,icon:"open_new",class:"opacity-0 group-hover:opacity-100 text-base transition-opacity"})):V("",!0)],2)],10,jt)}),128))]),_:2},1032,["list"])):V("",!0)]),_:2},1024)],2)):(G=n.settings)!=null&&G.name?(ve=n.settings)!=null&&ve.name?(u(),x("div",{key:2,onClick:I=>ee(n),class:P(["text-sm py-3 font-medium mt-2 rounded-lg",Z(n)?"text-zinc-900 dark:text-zinc-100 active bg-zinc-100 dark:bg-zinc-800 active":"hover:bg-zinc-100 hover:dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400"])},i(n.settings.name),11,Ht)):V("",!0):(u(),x("div",{key:1,onClick:I=>ee(n),class:P(["w-full h-4 cursor-pointer rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",Z(n)?"text-zinc-900 dark:text-zinc-100 active bg-zinc-100 dark:bg-zinc-800 active":"hover:bg-zinc-100 hover:dark:bg-zinc-800"])},null,10,Et))],64)}),128))]),_:1},8,["list"])])]),s("div",Ft,[l(re,{mode:"out-in"},{default:c(()=>{var n;return[a.value&&!r.value?(u(),x("div",qt,[s("div",Jt,[s("div",Gt,i(t.__("Menu Settings","uixpress")),1)]),e[14]||(e[14]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",Wt,[s("span",Xt,i(t.__("Status","uixpress")),1),s("span",Yt,i(t.__("Whether this menu is active or not","uixpress")),1)]),s("div",Qt,[l(te,{modelValue:a.value.status,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.status=o),options:ae,class:"max-w-[300px]"},null,8,["modelValue"])]),e[15]||(e[15]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",Kt,[s("span",Zt,i(t.__("Menu name","uixpress")),1),s("span",es,i(t.__("Name of your custom menu.","uixpress")),1)]),s("div",ts,[l(W,{modelValue:a.value.title.raw,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.title.raw=o),type:"text",class:"max-w-[300px]"},null,8,["modelValue"])]),e[16]||(e[16]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",ss,[s("span",ns,i(t.__("Apply menu to everyone","uixpress")),1),s("span",as,i(t.__("This menu will be applied to everyone if enabled.","uixpress")),1)]),s("div",os,[l(te,{modelValue:a.value.meta.menu_settings.applies_to_everyone,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.meta.menu_settings.applies_to_everyone=o),class:"max-w-[300px]"},null,8,["modelValue"])]),e[17]||(e[17]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),l(re,null,{default:c(()=>[We(s("div",is,[s("div",ls,[s("span",rs,i(t.__("Apply to roles or users","uixpress")),1),s("span",us,i(t.__("Set specific roles or users this menu applies to.","uixpress")),1)]),s("div",cs,[l(ye,{modelValue:a.value.meta.menu_settings.includes,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.meta.menu_settings.includes=o),class:"max-w-[300px]"},null,8,["modelValue"])]),e[12]||(e[12]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",ds,[s("span",ps,i(t.__("Exclude roles or users","uixpress")),1),s("span",ms,i(t.__("Set specific roles or users this menu won't apply to.","uixpress")),1)]),s("div",fs,[l(ye,{modelValue:a.value.meta.menu_settings.excludes,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.meta.menu_settings.excludes=o),class:"max-w-[300px]"},null,8,["modelValue"])]),e[13]||(e[13]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1))],512),[[Xe,a.value.meta.menu_settings.applies_to_everyone!=!0]])]),_:1})])):r.value?(u(),x("div",_s,[s("div",vs,[s("div",xs,[s("div",{class:"text-2xl font-semibold text-zinc-900 dark:text-zinc-100",innerHTML:r.value.name||((n=r.value.settings)==null?void 0:n.name)||t.__("Separator","uixpress")},null,8,gs),s("div",ws,"#"+i(r.value.id),1)]),r.value.custom?(u(),$(S,{key:0,type:"danger",onClick:Ue},{default:c(()=>[b(i(t.__("Delete item","uixpress")),1)]),_:1})):V("",!0),l(S,{type:"default",onClick:Ne,disabled:r.value.custom},{default:c(()=>[b(i(t.__("Reset item","uixpress")),1)]),_:1},8,["disabled"])]),e[21]||(e[21]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",bs,[s("span",hs,i(t.__("Name","uixpress")),1),s("span",ys,i(t.__("Rename menu item","uixpress")),1)]),s("div",zs,[l(W,{modelValue:r.value.settings.name,"onUpdate:modelValue":e[6]||(e[6]=o=>r.value.settings.name=o),type:"text",class:"max-w-[300px]"},null,8,["modelValue"])]),e[22]||(e[22]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),r.value.type!="separator"?(u(),x(N,{key:0},[s("div",ks,[s("span",Ss,i(t.__("URL","uixpress")),1),s("span",Cs,i(t.__("Change the link of the URL","uixpress")),1)]),s("div",Vs,[l(W,{modelValue:r.value.url,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.url=o),type:"text",class:"max-w-[300px]"},null,8,["modelValue"])]),e[18]||(e[18]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",$s,[s("span",Ms,i(t.__("Icon","uixpress")),1),s("span",Ls,i(t.__("Choose custom icon from the list or add a Base64 encoded Data URI. Icons only show for top level items. ","uixpress")),1)]),s("div",Is,[s("div",Ns,[l($t,{modelValue:r.value.settings.icon,"onUpdate:modelValue":e[8]||(e[8]=o=>r.value.settings.icon=o),type:"text"},null,8,["modelValue"]),l(W,{modelValue:r.value.settings.icon,"onUpdate:modelValue":e[9]||(e[9]=o=>r.value.settings.icon=o),type:"text",class:"grow"},null,8,["modelValue"])])]),e[19]||(e[19]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1)),s("div",Us,[s("span",Ds,i(t.__("Open in new tab","uixpress")),1),s("span",As,i(t.__("This link will open in a new tab","uixpress")),1)]),s("div",Ts,[l(te,{modelValue:r.value.settings.open_new,"onUpdate:modelValue":e[10]||(e[10]=o=>r.value.settings.open_new=o),class:"max-w-[300px]"},null,8,["modelValue"])]),e[20]||(e[20]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1))],64)):V("",!0),s("div",Ps,[s("span",Rs,i(t.__("Hidden","uixpress")),1),s("span",Os,i(t.__("The item will not be shown if hidden","uixpress")),1)]),s("div",js,[l(te,{modelValue:r.value.settings.hidden,"onUpdate:modelValue":e[11]||(e[11]=o=>r.value.settings.hidden=o),class:"max-w-[300px]"},null,8,["modelValue"])]),e[23]||(e[23]=s("div",{class:"border-t border-zinc-200 dark:border-zinc-700 col-span-3"},null,-1))])):V("",!0)]}),_:1})])],64)):V("",!0)])]),l(rt,{ref_key:"confirm",ref:k},null,512)],64))}},Es=qe(Bs,[["__scopeId","data-v-c7767030"]]),Y=Ye(mt),Hs=Qe();Y.use(Hs);const U=document.querySelector("#uipc-script"),Fs=U.getAttribute("plugin-base"),qs=U.getAttribute("rest-base"),Js=U.getAttribute("rest-nonce"),Gs=U.getAttribute("admin-url"),Ws=U.getAttribute("site-url"),Xs=U.getAttribute("user-id"),Ys=U.getAttribute("user-name"),Qs=U.getAttribute("user-email");let pe=U.getAttribute("front-page");pe=pe=="true";let me=U.getAttribute("uixpress-settings");me=JSON.parse(me);const D=ne();D.updateState("pluginBase",Fs);D.updateState("restBase",qs);D.updateState("restNonce",Js);D.updateState("adminUrl",Gs);D.updateState("siteURL",Ws);D.updateState("userID",Xs);D.updateState("userName",Ys);D.updateState("userEmail",Qs);D.updateState("frontPage",pe);D.updateState("uixpress_settings",me);Y.config.globalProperties.__=window.wp.i18n.__;Y.config.globalProperties.sprintf=window.wp.i18n.sprintf;const Ks=[{path:"/",component:kt,name:"menu-creator",meta:{name:(0,window.wp.i18n.__)("Menu Creator","uixpress")}},{path:"/edit/:menuid",component:Es,name:"menu-editor",meta:{name:(0,window.wp.i18n.__)("Menu editor","uixpress")}}],Zs=Ke({history:Ze(),routes:Ks});Y.use(Zs);Y.mount("#uipc-menu-creator-app");
//# sourceMappingURL=menu-creator.build.DcZwiqRN.js.map
